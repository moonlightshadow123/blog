<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">

<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Leetcode-416,474,494,377,343,279,322,72,10,44,97,392,115,96,95,198,213,152,70,376,368,673,264,91,188,646,53,303,304,62,63,221,120,523,312,516,132,472,139,140,647.">
<meta name="keywords">
<meta property="og:type" content="article">
<meta property="og:title" content="dynamic programming summary">
<meta property="og:url" content="http://moonlightshadow123.github.io/2017/10/11/dp/index.html">
<meta property="og:site_name" content="Small&Big">
<meta property="og:description" content="Leetcode-416,474,494,377,343,279,322,72,10,44,97,392,115,96,95,198,213,152,70,376,368,673,264,91,188,646,53,303,304,62,63,221,120,523,312,516,132,472,139,140,647.">
<meta property="og:updated_time" content="2017-10-13T09:19:47.173Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dynamic programming summary">
<meta name="twitter:description" content="Leetcode-416,474,494,377,343,279,322,72,10,44,97,392,115,96,95,198,213,152,70,376,368,673,264,91,188,646,53,303,304,62,63,221,120,523,312,516,132,472,139,140,647.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://moonlightshadow123.github.io/2017/10/11/dp/"/>





  <title> dynamic programming summary | Small&Big </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Small&Big</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://moonlightshadow123.github.io/2017/10/11/dp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaoda">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Small&Big">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                dynamic programming summary
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-11T21:26:23+08:00">
                2017-10-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/11/dp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/11/dp/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/10/11/dp/" class="leancloud_visitors" data-flag-title="dynamic programming summary">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Leetcode-<code>416</code>,<code>474</code>,<code>494</code>,<code>377</code>,<code>343</code>,<code>279</code>,<code>322</code>,<code>72</code>,<code>10</code>,<code>44</code>,<code>97</code>,<code>392</code>,<code>115</code>,<code>96</code>,<code>95</code>,<code>198</code>,<code>213</code>,<code>152</code>,<code>70</code>,<code>376</code>,<code>368</code>,<code>673</code>,<code>264</code>,<code>91</code>,<code>188</code>,<code>646</code>,<code>53</code>,<code>303</code>,<code>304</code>,<code>62</code>,<code>63</code>,<code>221</code>,<code>120</code>,<code>523</code>,<code>312</code>,<code>516</code>,<code>132</code>,<code>472</code>,<code>139</code>,<code>140</code>,<code>647</code>.<br><a id="more"></a></p>
<p><strong>Note:</strong> Some solution here may fail due to inefficiency of <code>python</code>, but the gist is clearly delivered. If you code it in <code>java</code> or <code>c++</code> with the same idea, it will be passed.</p>
<h1 id="Horizontal"><a href="#Horizontal" class="headerlink" title="Horizontal"></a>Horizontal</h1><h2 id="Do-it-or-not"><a href="#Do-it-or-not" class="headerlink" title="Do-it-or-not"></a>Do-it-or-not</h2><h3 id="Knapsack-problem"><a href="#Knapsack-problem" class="headerlink" title="Knapsack problem"></a>Knapsack problem</h3><p>$[(w_1, v_1)…(w_t,v_t)]$ List of items to pack.</p>
<p>$$dp_t[i] = \max(dp_{t-1}[i - w_t] + v_t, dp_t[i]) $$</p>
<ul>
<li>$dp_t[i]$ the max value you can get when $t$-th item come and your weight limit is $i$.</li>
<li>Check if load the item $t$ worth it or not: $dp_{t-1}[i-w_t]+v<em>t$ and $dp</em>{t-1}[i]$ which is greater.</li>
</ul>
<h3 id="Subset-sum"><a href="#Subset-sum" class="headerlink" title="Subset sum"></a>Subset sum</h3><p>Check if the subset from <code>val[0,1,2...t...]</code> sum to a target.<br>$$dp_t[i] = dp_{t-1}[i-val_t] \text{ or } dp_{t-1}[i]$$</p>
<ul>
<li>$dp_t[i]$ (<em>boolean</em>) represents if <code>val[0...t]</code> can sum to value $i$.</li>
<li>When <code>val[t]</code> comes, check if sum $i-val[t]$ has been reached, or $i$ has already been reached.</li>
</ul>
<h3 id="Coin-changing-minimum"><a href="#Coin-changing-minimum" class="headerlink" title="Coin changing minimum"></a>Coin changing minimum</h3><p>Given coins with denomination <code>a[1..k..]</code> with infinite number and <code>target</code><br>$$dp_t[i] = \min( \min_k(dp_{t-1}[i-a_k] + 1), dp_{t-1}[i])$$</p>
<ul>
<li>$dp_t[i]$ represents the minimal number of coin used to reach sum $i$ with maximum $t$ coin.</li>
<li>When choose the $t$-th coin, check the minimal number of $i-a_k$ and choose the smaller one. Or sum $i$ is reached previously with $dp_{t-1}[i]$.</li>
<li>Time complexity: $target*target$</li>
</ul>
<p>Or you can solve it that way:</p>
<p>$$\begin{align*}<br>dp_t[i] &amp;= \min_{0 \leq n \leq i/a_k} (dp_{t-1}[i - na_k] + n)\\<br>&amp;= \min\ (dp_{t}[i - a_k] + 1, dp_{t-1}[i])<br>\end{align*}$$</p>
<ul>
<li>$dp_t[i]$ represents the minimal number of coins to reach sum $i$ just using <code>a[0..t]</code>.</li>
<li>When <code>a[t]</code> comes, choose the number of it, i.e.$n$ to use.</li>
<li>Time complexity: $target * k$</li>
</ul>
<h3 id="Coin-changing-number-of-ways"><a href="#Coin-changing-number-of-ways" class="headerlink" title="Coin changing number of ways"></a>Coin changing number of ways</h3><p>Given coins of denomination <code>a[k]</code><br>$$\begin{align*}<br>dp_t[i] &amp;= \sum_{0 \leq n \leq i/a_t} dp_{t-1}[i-na_t]\\<br>&amp;=  dp_{t}[i-a_t] + dp_{t-1}[i]<br>\end{align*}$$</p>
<ul>
<li>$dp_t[i]$ represents the ways to reach sum $i$ just using <code>a[1..t]</code></li>
<li>When <code>a[t]</code> comes, vary the it’s number, i.e. $n$, to see how many ways to reach sum $i$.</li>
</ul>
<h3 id="Weighted-job-scheduling"><a href="#Weighted-job-scheduling" class="headerlink" title="Weighted job scheduling"></a>Weighted job scheduling</h3><p>Given jobs <code>job[(start_t, end_t, v_t)]</code> in ascending order of <code>end_t</code>, i.e. time node $i$.<br>$$dp_t[i] = \begin{cases}<br>dp_{t-1}[i], &amp;\text{ if end_t &gt; i} \\<br>\max(dp_{t-1}[i], dp_{t-1}[start\_t] + v_t), &amp;\text{ if end_t $\leq$ i }<br>\end{cases}$$</p>
<ul>
<li>$dp_t[i]$ represents the maximum value you can get at time $i$ using just <code>job[1..t]</code></li>
<li>When a <code>job[t]</code> comes, if the end time of <code>job[t]</code>, i.e. end_t is latter than i, then you can’t take the job.</li>
<li>else, you may compare taking the job and not taking the job. By taking the job $t$, you add $v_t$ and what you can get at (or before) start_t.</li>
</ul>
<h3 id="Cutting-rod"><a href="#Cutting-rod" class="headerlink" title="Cutting rod"></a>Cutting rod</h3><p>Given length of stick <code>l[]</code> and value <code>v[]</code>.<br>$$\begin{align*}<br>dp_t[i] &amp;= \max_{0 \leq n \leq i /l_t}(dp_{t-1}[i-nl_t]+nv_t) \\<br>&amp;= \max( dp_{t}[i-l_t] + v_t, dp_{t-1}[i] )<br>\end{align*}$$</p>
<ul>
<li>$dp_t[i]$ represents the max value you can get with total length $i$ using just <code>l[1..t]</code>.</li>
<li>When <code>l[t]</code> comes, assume you cut $n$ pieces of <code>l[t]</code>, choose the best n.</li>
</ul>
<h3 id="Stock-buy-sell"><a href="#Stock-buy-sell" class="headerlink" title="Stock buy sell"></a>Stock buy sell</h3><p>Given <code>price[]</code> as the stock price of each day.<br>$$dp_t[i] = \max(dp_t[i-1], \max_{0 &lt; m &lt; i}(dp_{t-1}[m] + price[i] - price[m]))$$</p>
<ul>
<li>$dp_t[i]$ represents the maximum profit you can get <strong>by</strong> day $i$, maximum make $t$ transactions. </li>
<li>For $t$-th transaction in day $i$, you can either do it or not: </li>
<li>Do it: assume transact with $m$-th day, choose the best $m$.</li>
<li>Don’t do it: maximum of $dp_{t-1}[i]$ and $dp_t[i-1]$.</li>
</ul>
<h3 id="Leetcode-416"><a href="#Leetcode-416" class="headerlink" title="Leetcode-416"></a>Leetcode-416</h3><p><a href="https://leetcode.com/problems/partition-equal-subset-sum/description/" target="_blank" rel="external">https://leetcode.com/problems/partition-equal-subset-sum/description/</a></p>
<div class="note info"><p>Given a <strong>non-empty</strong> array containing <strong>only positive integers</strong>, find if the array can be partitioned into two subsets such that the sum of elements in both subsets is equal.<br><strong>Note:</strong>   </p>
<ol>
<li>Each of the array element will not exceed 100.</li>
<li>The array size will not exceed 200.</li>
</ol>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [1, 5, 11, 5]  </div><div class="line">Output: true    </div><div class="line">Explanation: The array can be partitioned as [1, 5, 5] and [11].</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [1, 2, 3, 5]  </div><div class="line">Output: false  </div><div class="line">Explanation: The array cannot be partitioned into equal sum subsets.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp_t[i] = dp_{t-1}[i-val_t] \text{ or } dp_{t-1}[i]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPartition</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        valsum = sum(nums)</div><div class="line">        <span class="keyword">if</span> valsum % <span class="number">2</span> == <span class="number">1</span>: <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">        valsum /= <span class="number">2</span></div><div class="line"></div><div class="line">        n_num1 = len(nums)+<span class="number">1</span></div><div class="line">        n_sum1 = valsum + <span class="number">1</span></div><div class="line">        nums.insert(<span class="number">0</span>,<span class="number">-1</span>)</div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_sum1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_num1)]</div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_num1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_sum1):</div><div class="line">                <span class="keyword">if</span> i - nums[t] &gt;= <span class="number">0</span>:</div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i] <span class="keyword">or</span> dp[t<span class="number">-1</span>][i-nums[t]]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i]</div><div class="line">        <span class="keyword">return</span> dp[n_num1<span class="number">-1</span>][n_sum1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    nums = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.canPartition(nums)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-322"><a href="#Leetcode-322" class="headerlink" title="Leetcode-322"></a>Leetcode-322</h3><p><a href="https://leetcode.com/problems/coin-change/description/" target="_blank" rel="external">https://leetcode.com/problems/coin-change/description/</a></p>
<div class="note info"><p>You are given coins of different denominations and a total amount of money amount. Write a function to compute the fewest number of coins that you need to make up that amount. If that amount of money cannot be made up by any combination of the coins, return <code>-1</code>.</p>
<p>Note:<br>You may assume that you have an infinite number of each kind of coin.</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">coins = `[1, 2, 5]`, amount = `11`</div><div class="line">return `3` (11 = 5 + 5 + 1)</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">coins = `[2]`, amount = `3`</div><div class="line">return `-1`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Coin change problem.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins, amount)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type coins: List[int]</div><div class="line">        :type amount: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_coin1   = len(coins)+<span class="number">1</span></div><div class="line">        n_amount1 = amount+<span class="number">1</span></div><div class="line">        coins.insert(<span class="number">0</span>,<span class="number">-1</span>)</div><div class="line">        dp = [[float(<span class="string">'inf'</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_amount1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_coin1)]</div><div class="line">        <span class="comment"># shape = (n_coin, amount+1)</span></div><div class="line">        </div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(n_coin1):</div><div class="line">            dp[t][<span class="number">0</span>] = <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_coin1):</div><div class="line">            curcoin  = coins[t]</div><div class="line">            curlayer = dp[t]</div><div class="line">            prelayer = dp[t<span class="number">-1</span>]</div><div class="line"></div><div class="line">            <span class="comment"># update dp[t][:]</span></div><div class="line">            <span class="comment"># newlayer = [ele for ele in prelayer]</span></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_amount1):</div><div class="line">                <span class="keyword">if</span> i - curcoin &gt;= <span class="number">0</span>:</div><div class="line">                    dp[t][i] = min(dp[t][i-curcoin]+<span class="number">1</span>, dp[t<span class="number">-1</span>][i])</div><div class="line">                <span class="keyword">else</span>: </div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i]</div><div class="line">            <span class="comment"># dp[t] = newlayer</span></div><div class="line">        res = dp[n_coin1<span class="number">-1</span>][n_amount1<span class="number">-1</span>]</div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> res <span class="keyword">if</span> res != float(<span class="string">'inf'</span>) <span class="keyword">else</span> <span class="number">-1</span></div><div class="line">              </div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    coins,amount = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>],<span class="number">11</span></div><div class="line">    <span class="comment"># coins,amount = [1],1</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> <span class="string">'&#123;&#125;'</span>.format(slt.coinChange(coins, amount))</div></pre></td></tr></table></figure>
<h3 id="Leetcode-474"><a href="#Leetcode-474" class="headerlink" title="Leetcode-474"></a>Leetcode-474</h3><p><a href="https://leetcode.com/problems/ones-and-zeroes/description/" target="_blank" rel="external">https://leetcode.com/problems/ones-and-zeroes/description/</a></p>
<div class="note info"><p>In the computer world, use restricted resource you have to generate maximum benefit is what we always want to pursue.<br>For now, suppose you are a dominator of <strong>m</strong> <code>0s</code> and <strong>n</strong> <code>1s</code> respectively. On the other hand, there is an array with strings consisting of only <code>0s</code> and <code>1s</code>.<br>Now your task is to find the maximum number of strings that you can form with given <strong>m</strong> <code>0s</code> and <strong>n</strong> <code>1s</code>. Each <code>0</code> and <code>1</code> can be used at most <strong>once</strong>.</p>
<p><strong>Note:</strong></p>
<ol>
<li>The given numbers of <code>0s</code> and <code>1s</code> will both not exceed <code>100</code></li>
<li>The size of given string array won’t exceed <code>600</code>.</li>
</ol>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: Array = &#123;&quot;10&quot;, &quot;0001&quot;, &quot;111001&quot;, &quot;1&quot;, &quot;0&quot;&#125;, m = 5, n = 3</div><div class="line">Output: 4</div><div class="line"></div><div class="line">Explanation: This are totally 4 strings can be formed by the using of 5 0s and 3 1s, which are “10,”0001”,”1”,”0”</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Input: Array = &#123;&quot;10&quot;, &quot;0&quot;, &quot;1&quot;&#125;, m = 1, n = 1</div><div class="line">Output: 2</div><div class="line"></div><div class="line">Explanation: You could form &quot;10&quot;, but then you&apos;d have nothing left. Better form &quot;0&quot; and &quot;1&quot;.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp_t[i][j] = \max(dp_{t-1}[i-w0_t][j-w1_t]+1, dp_{t-1}[i][j])$$</p>
<ul>
<li>$dp_t[i][j]$ represents the maximum number you can get using i <code>0</code>s and j <code>1</code>s. </li>
<li>When item $t$ comes, if there’s enough room for it, check if putting it in increases the number.</li>
<li>Time complexity: $O(t,m,n)$</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMaxForm</span><span class="params">(self, strs, m, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type strs: List[str]</div><div class="line">        :type m: int</div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        items = []</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(strs)):</div><div class="line">            items.append((strs[i].count(<span class="string">'0'</span>), strs[i].count(<span class="string">'1'</span>)))</div><div class="line">        n_m1    = m+<span class="number">1</span></div><div class="line">        n_n1    = n+<span class="number">1</span></div><div class="line">        n_item1 = len(items) + <span class="number">1</span></div><div class="line"></div><div class="line">        items.insert(<span class="number">0</span>, (<span class="number">0</span>,<span class="number">0</span>))</div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_m1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_item1)]</div><div class="line">        <span class="comment"># (n_item1, n_m1, n_n1)</span></div><div class="line">        </div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_item1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n_m1): <span class="comment"># #0 can be zero, and dp != 0</span></div><div class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(n_n1): <span class="comment"># #1 can be zero, and dp != 0.</span></div><div class="line">                    <span class="keyword">if</span> i - items[t][<span class="number">0</span>] &gt;= <span class="number">0</span> <span class="keyword">and</span> j - items[t][<span class="number">1</span>] &gt;= <span class="number">0</span>:</div><div class="line">                        dp[t][i][j] = max(dp[t<span class="number">-1</span>][i - items[t][<span class="number">0</span>]][j - items[t][<span class="number">1</span>]] + <span class="number">1</span>, dp[t<span class="number">-1</span>][i][j])</div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        dp[t][i][j] = dp[t<span class="number">-1</span>][i][j]</div><div class="line">        <span class="keyword">return</span> dp[n_item1<span class="number">-1</span>][n_m1<span class="number">-1</span>][n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    strs, m, n = [<span class="string">"10"</span>, <span class="string">"0001"</span>, <span class="string">"111001"</span>, <span class="string">"1"</span>, <span class="string">"0"</span>], <span class="number">5</span>, <span class="number">2</span></div><div class="line">    strs, m, n = [<span class="string">"10"</span>, <span class="string">"0"</span>, <span class="string">"1"</span>], <span class="number">1</span>, <span class="number">1</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.findMaxForm(strs, m, n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-494"><a href="#Leetcode-494" class="headerlink" title="Leetcode-494"></a>Leetcode-494</h3><p><a href="https://leetcode.com/problems/target-sum/description/" target="_blank" rel="external">https://leetcode.com/problems/target-sum/description/</a></p>
<div class="note info"><p>You are given a list of non-negative integers, a1, a2, …, an, and a target, S. Now you have 2 symbols <code>+</code> and <code>-</code>. For each integer, you should choose one from <code>+</code> and <code>-</code> as its new symbol.<br>Find out how many ways to assign symbols to make sum of integers equal to target S.<br><strong>Note:</strong>  </p>
<ol>
<li>The length of the given array is positive and will not exceed 20.</li>
<li>The sum of elements in the given array will not exceed 1000.</li>
<li>Your output answer is guaranteed to be fitted in a 32-bit integer.</li>
</ol>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Input: nums is [1, 1, 1, 1, 1], S is 3. </div><div class="line">Output: 5</div><div class="line">Explanation: </div><div class="line"></div><div class="line">-1+1+1+1+1 = 3</div><div class="line">+1-1+1+1+1 = 3</div><div class="line">+1+1-1+1+1 = 3</div><div class="line">+1+1+1-1+1 = 3</div><div class="line">+1+1+1+1-1 = 3</div><div class="line"></div><div class="line">There are 5 ways to assign symbols to make the sum of nums be target 3.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Given <code>vals[]</code><br>$$<br>\begin{align*}<br>sum(P) - sum(N) &amp;= target\\<br>sum(P) - sum(N) + sum(P) + sum(N) &amp;= target + sum(P) + sum(N)\\<br>2 * sum(P) &amp;= target +  sum(nums)<br>\end{align*}<br>$$</p>
<ul>
<li>$sum(P)$, $sum(N)$ represents positive and negative sets respectively.</li>
<li>So the problem becomes choose a set $P$, s.t. $sum(P) = (target + sum(nums))/2$.</li>
<li>if $target + sum(nums)$ is odd, then $P$ doesn’t exists.</li>
</ul>
<p>$$dp_t[i] = dp_{t-1}[i - val_t] + dp_{t-1}[i]$$</p>
<ul>
<li>$dp_t[i]$ the ways of subset adding up to sum $i$ using just <code>val[1...t]</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findTargetSumWays</span><span class="params">(self, vals, S)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type vals: List[int]</div><div class="line">        :type S: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> (sum(vals) + S) % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">or</span> sum(vals)&lt;S: <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        target = (sum(vals) + S)/<span class="number">2</span></div><div class="line"></div><div class="line">        n_val1 = len(vals) + <span class="number">1</span></div><div class="line">        n_sum1 = target + <span class="number">1</span></div><div class="line"></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_sum1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        <span class="comment"># (n_val1, n_sum1)</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_val1):</div><div class="line">            dp[i][<span class="number">0</span>] = <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n_sum1):</div><div class="line">                <span class="keyword">if</span> i - vals[t] &gt;= <span class="number">0</span>:</div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i] + dp[t<span class="number">-1</span>][i-vals[t]]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i]</div><div class="line">        <span class="keyword">return</span> dp[n_val1<span class="number">-1</span>][n_sum1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    vals,S = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],<span class="number">0</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.findTargetSumWays(vals, S)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-377"><a href="#Leetcode-377" class="headerlink" title="Leetcode-377"></a>Leetcode-377</h3><p><a href="https://leetcode.com/problems/combination-sum-iv/description/" target="_blank" rel="external">https://leetcode.com/problems/combination-sum-iv/description/</a></p>
<div class="note info"><p>Given an integer array with all positive numbers and no duplicates, find the number of possible combinations that add up to a positive integer target.</p>
</div>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">nums = [1, 2, 3]</div><div class="line">target = 4</div><div class="line"></div><div class="line">The possible combination ways are:</div><div class="line">(1, 1, 1, 1)</div><div class="line">(1, 1, 2)</div><div class="line">(1, 2, 1)</div><div class="line">(1, 3)</div><div class="line">(2, 1, 1)</div><div class="line">(2, 2)</div><div class="line">(3, 1)</div><div class="line"></div><div class="line">Note that different sequences are counted as different combinations.</div><div class="line"></div><div class="line">Therefore the output is 7.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp_t[i] = \sum_k dp_{t-1}[i-val_k]$$</p>
<ul>
<li>$dp_t[i]$ represents the # of combination using at most t number to reach sum $i$.</li>
<li>Pick <code>num[k]</code> at time $t$, add all the possible $k$. Note for every $t$ $dp_t[0] = 1$ to represent the combination that pick None for $0…t$.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum4</span><span class="params">(self, vals, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> vals == []: <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        vals = sorted(vals)</div><div class="line">        n_run1 = target / vals[<span class="number">0</span>] + <span class="number">1</span></div><div class="line">        n_sum1 = target+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp =[[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_sum1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_run1)]</div><div class="line">        <span class="comment"># (n_run1, n_sum1)</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_run1):</div><div class="line">            dp[i][<span class="number">0</span>] = <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>,n_run1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n_sum1):</div><div class="line">                <span class="keyword">for</span> val <span class="keyword">in</span> vals:</div><div class="line">                    <span class="keyword">if</span> i-val &gt;= <span class="number">0</span>:</div><div class="line">                        dp[t][i] += dp[t<span class="number">-1</span>][i-val]</div><div class="line">        <span class="keyword">return</span>  dp[n_run1<span class="number">-1</span>][n_sum1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    vals,target = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="number">4</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.combinationSum4(vals, target)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-343"><a href="#Leetcode-343" class="headerlink" title="Leetcode-343"></a>Leetcode-343</h3><p><a href="https://leetcode.com/problems/integer-break/description/" target="_blank" rel="external">https://leetcode.com/problems/integer-break/description/</a></p>
<div class="note info"><p>Given a positive integer n, break it into the sum of <strong>at least</strong> two positive integers and maximize the product of those integers. Return the maximum product you can get.<br>For example, given n = 2, return 1 (2 = 1 + 1); given n = 10, return 36 (10 = 3 + 3 + 4).<br><strong>Note:</strong> You may assume that n is not less than 2 and not larger than 58.</p>
</div>
<p><strong>Transform:</strong><br>$$dp_t[t] = \max_k (dp[t-k)*k)$$</p>
<ul>
<li>$dp_t[t]$ represents the maximum break product of $t$.<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integerBreak</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="comment"># sb cases</span></div><div class="line">        <span class="keyword">if</span> n == <span class="number">2</span>: <span class="keyword">return</span> <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> n == <span class="number">3</span>: <span class="keyword">return</span> <span class="number">2</span></div><div class="line">        <span class="comment"># sb cases</span></div><div class="line">        n_n1 = n+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> _  <span class="keyword">in</span> range(n_n1)]</div><div class="line">        dp[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_n1):</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>, t+<span class="number">1</span>):</div><div class="line">                dp[t] = max(dp[t], dp[t-k]*k)</div><div class="line">        <span class="keyword">return</span> dp[n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">10</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.integerBreak(n)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Leetcode-279"><a href="#Leetcode-279" class="headerlink" title="Leetcode-279"></a>Leetcode-279</h3><p><a href="https://leetcode.com/problems/perfect-squares/description/" target="_blank" rel="external">https://leetcode.com/problems/perfect-squares/description/</a></p>
<div class="note info"><p>Given a positive integer n, find the least number of perfect square numbers (for example, <code>1, 4, 9, 16, ...``) which sum to n.   
For example, given n =</code>12<code>, return</code>3<code>because</code>12 = 4 + 4 + 4<code>; given n =</code>13<code>, return</code>2<code>because</code>13 = 4 + 9`.   </p>
</div>
<p><strong>Transform:</strong><br>Given <code>val[]</code><br>$$dp<em>t[i] = \min(dp</em>{t}[i - val<em>t]+1, dp</em>{t-1}[i])$$</p>
<ul>
<li>$dp_t[i]$ represents the least number of perfect square numbers for sum $i$.</li>
<li>Assume we can choose $val_t$ to split cover it, choose the best $t$. </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        vals = []</div><div class="line">        i = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> i*i &lt;= n:</div><div class="line">            vals.append(i*i)</div><div class="line">            i += <span class="number">1</span></div><div class="line"></div><div class="line">        n_n1   = n+<span class="number">1</span></div><div class="line">        n_val1 = len(vals) + <span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[float(<span class="string">'inf'</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)] </div><div class="line">        <span class="comment"># (n_val1, n_n1)</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_val1): dp[i][<span class="number">0</span>] = <span class="number">0</span></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_n1):</div><div class="line">                <span class="keyword">if</span> i - vals[t] &gt;= <span class="number">0</span>:</div><div class="line">                    dp[t][i] = min(dp[t][i - vals[t]]+<span class="number">1</span>, dp[t<span class="number">-1</span>][i])</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[t][i] = dp[t<span class="number">-1</span>][i]</div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> dp[n_val1<span class="number">-1</span>][n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">19</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.numSquares(n)</div></pre></td></tr></table></figure>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="Longest-common-subsequence"><a href="#Longest-common-subsequence" class="headerlink" title="Longest common subsequence"></a>Longest common subsequence</h3><p>Given <code>str1</code> and <code>str2</code><br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1] + 1, &amp;\text{if str1[i]==str2[j]}\\<br>\max(dp[i][j-1], dp[i-1][j]), &amp;\text{if str1[i] != str2[j]}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ stands for length of common subsequence between <code>str1[:i]</code> and <code>str2[:j]</code>.</li>
<li>if <code>str1[i] == str2[j]</code>, consume the two character as <code>+1</code> and check the previous result; else, check $dp[i-1][j]$ or $dp[i][j-1]$.</li>
</ul>
<h3 id="Longest-common-substring"><a href="#Longest-common-substring" class="headerlink" title="Longest common substring"></a>Longest common substring</h3><p>Given <code>str1</code> and <code>str2</code><br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1]+1, &amp;\text{ if str1[i] == str[j] }\\<br>0, &amp;\text{ if str1[i] != str2[j]}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ represents the longest common substring ending with <code>str1[i]</code> and <code>str2[j]</code>.</li>
<li>If <code>str1[i] == str2[j]</code>, consume the two character and move back to $dp[i-1][j-1]$.</li>
<li>else, there are no common substring ending with <code>str1[i]</code> and <code>str2[j]</code>.</li>
</ul>
<h3 id="Minimum-edit-distance"><a href="#Minimum-edit-distance" class="headerlink" title="Minimum edit distance"></a>Minimum edit distance</h3><p>Given <code>str1</code> and <code>str2</code>.<br>$$dp[i][j] = \begin{cases}<br>\min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1, &amp;\text{ if str1[i] != str2[j]}\\<br>dp[i-1][j-1], &amp;\text{ if str1[i] == str2[j]}<br>\end{cases}$$ </p>
<ul>
<li>$dp[i][j]$ represents the minimal edit distance between <code>str1[:i]</code>  and <code>str2[:j]</code>.</li>
<li>If <code>str1[i] == str2[j]</code>, consume the two character and move back to $dp[i-1][j-1]$; </li>
<li>else, choose the operation <em>insert</em> i.e.$dp[i-1][j]+1$, <em>delete</em> i.e. $dp[i][j-1]+1$, <em>edit</em> i.e. $dp[i-1][j-1]+1$</li>
</ul>
<h3 id="Regular-Expression"><a href="#Regular-Expression" class="headerlink" title="Regular Expression"></a>Regular Expression</h3><p>Given <code>str</code> and <code>patten</code>, some notation:</p>
<ul>
<li><code>.</code>—any character; <code>a =.= b</code> — <code>a==b</code> or<code>b==&#39;.&#39;</code></li>
<li><p><code>*</code>—repeat 0 or more times.<br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1], &amp;\text{ if str[i] =.= pattern[j]}\\<br>\begin{cases}dp[i][j-2]\\or\\dp[i-1][j],\text{if str[i] =.= pattern[j-1]}\end{cases}, &amp;\text{ if pattern[j] == ‘*’}\\<br>False, &amp;\text{ else.}<br>\end{cases}$$</p>
</li>
<li><p>$dp[i][j]$ (<em>boolean</em>) represents if <code>str[:i]</code> and <code>pattern[:j]</code> matches.</p>
</li>
<li>If <code>str[i] =.= pattern[j]</code>, then consume the two characters and roll back to $dp[i-1][j-1]$</li>
<li>If <code>pattern[j] == &#39;*&#39;</code>, assume pattern is <code>&#39;...x*&#39;</code> <ul>
<li>(1) if length of <code>x*</code> == 0: $dp[i][j-2]$ == True</li>
<li>(2) if length of <code>x*</code> != 0 and <code>str[i]</code> == <code>x</code>: consume <code>str[i]</code> and check $dp[i-1][j]$.</li>
<li>(3) else False</li>
</ul>
</li>
<li>Else, False.</li>
</ul>
<h3 id="Wild-card-matching"><a href="#Wild-card-matching" class="headerlink" title="Wild card matching"></a>Wild card matching</h3><p>Given <code>str</code> and <code>pattern</code>, some notation:</p>
<ul>
<li><code>*</code> — sequence of any character of any length $[0,+\infty)$</li>
<li><code>?</code> — sequence of any character of 1 length. <code>a =?= b</code> — <code>a==b</code> or <code>b==?</code>.</li>
</ul>
<p>$$dp[i][j] =\begin{cases}<br>dp[i-1][j-1], &amp;\text{ if str[i] =?= pattern[j]}\\<br>dp[i-1][j] \text{ or } dp[i][j-1], &amp;\text{ if pattern[j] == ‘*’}\\<br>False, &amp;\text{ else}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ (<em>boolean</em>) represents the if <code>str[:i]</code> and <code>pattern[:j]</code> matches.</li>
<li>If <code>str[i] =?= pattern[j]</code>, then consume the two characters and roll back to $dp[i-1][j-1]$.</li>
<li>If <code>pattern[j] ==&#39;*&#39;</code>,<ul>
<li>(1) if length of <code>*</code> == 0: $dp[i][j-1]$ == True.</li>
<li>(2) if length of <code>*</code> != 0: consume <code>str[i]</code> and check $dp[i-1][j]$. </li>
</ul>
</li>
<li>Else, False. </li>
</ul>
<h3 id="String-Interleaving"><a href="#String-Interleaving" class="headerlink" title="String Interleaving"></a>String Interleaving</h3><p>Given <code>str1</code>, <code>str2</code>, and check if <code>str3</code> is the interleaving between the two string.<br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j] \text{ or } dp[i][j-1], &amp;\text{ if str1[i] == str3[i+j] == str2[j]}\\<br>dp[i-1][j], &amp;\text{ if str1[i] == str3[i+j] != str2[j]}\\<br>dp[i][j-1], &amp;\text{ if str1[i] != str3[i+j] == str2[j]}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ (<em>boolean</em>) represents if <code>str3[:i+j]</code> is the interleaving of <code>str1[:i]</code> and <code>str2[:j]</code>.</li>
<li>If <code>str1[i] == str3[i+j] == str2[j]</code>: consume <code>str1[i]</code> or <code>str2[j]</code> and roll back.</li>
<li>If <code>str1[i] == str3[i+j] != str2[j]</code>: consume <code>str1[i]</code> and roll back.</li>
<li>If <code>str1[i] != str3[i+j] == str2[j]</code>: consume <code>str2[j]</code> and roll back.</li>
</ul>
<h3 id="Leetcode-72"><a href="#Leetcode-72" class="headerlink" title="Leetcode-72"></a>Leetcode-72</h3><p><a href="https://leetcode.com/problems/edit-distance/description/" target="_blank" rel="external">https://leetcode.com/problems/edit-distance/description/</a></p>
<div class="note danger"><p>Given two words word1 and word2, find the minimum number of steps required to convert word1 to word2. (each operation is counted as 1 step.)<br>You have the following 3 operations permitted on a word:<br>a) Insert a character<br>b) Delete a character<br>c) Replace a character  </p>
</div>
<p><strong>Transform:</strong><br>Identical to Minimum edit distance.<br>$$dp[i][j] = \begin{cases}<br>\min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1, &amp;\text{ if str1[i] != str[j]}\\<br>dp[i-1][j-1], &amp;\text{ if str1[i]==str2[j]}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDistance</span><span class="params">(self, word1, word2)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type word1: str</div><div class="line">        :type word2: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n1_str1 = len(word1)+<span class="number">1</span></div><div class="line">        n2_str1 = len(word2)+<span class="number">1</span></div><div class="line">        word1 = <span class="string">'0'</span>+word1</div><div class="line">        word2 = <span class="string">'0'</span>+word2</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n2_str1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n1_str1)]</div><div class="line">        <span class="comment"># (n1_str1, n2_str1)</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n1_str1):</div><div class="line">            dp[i][<span class="number">0</span>] = len(word1[<span class="number">1</span>:i+<span class="number">1</span>])</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n2_str1):</div><div class="line">            dp[<span class="number">0</span>][j] = len(word2[<span class="number">1</span>:j+<span class="number">1</span>])</div><div class="line">        </div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n1_str1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n2_str1):</div><div class="line">                <span class="keyword">if</span> word1[i] == word2[j]:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = min(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>], dp[i<span class="number">-1</span>][j<span class="number">-1</span>]) + <span class="number">1</span></div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> dp[n1_str1<span class="number">-1</span>][n2_str1<span class="number">-1</span>]</div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    word1,word2 = <span class="string">'ab'</span>,<span class="string">'bc'</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.minDistance(word1, word2)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-10"><a href="#Leetcode-10" class="headerlink" title="Leetcode-10"></a>Leetcode-10</h3><p><a href="https://leetcode.com/problems/regular-expression-matching/description/" target="_blank" rel="external">https://leetcode.com/problems/regular-expression-matching/description/</a></p>
<div class="note danger"><p>Implement regular expression matching with support for <code>&#39;.&#39;</code> and <code>&#39;*&#39;</code>.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&apos;.&apos; Matches any single character.</div><div class="line">&apos;*&apos; Matches zero or more of the preceding element.</div><div class="line"></div><div class="line">The matching should cover the entire input string (not partial).</div><div class="line"></div><div class="line">The function prototype should be:</div><div class="line">bool isMatch(const char *s, const char *p)</div><div class="line"></div><div class="line">Some examples:</div><div class="line">isMatch(&quot;aa&quot;,&quot;a&quot;) → false</div><div class="line">isMatch(&quot;aa&quot;,&quot;aa&quot;) → true</div><div class="line">isMatch(&quot;aaa&quot;,&quot;aa&quot;) → false</div><div class="line">isMatch(&quot;aa&quot;, &quot;a*&quot;) → true</div><div class="line">isMatch(&quot;aa&quot;, &quot;.*&quot;) → true</div><div class="line">isMatch(&quot;ab&quot;, &quot;.*&quot;) → true</div><div class="line">isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) → true</div></pre></td></tr></table></figure>
<p><strong>Transform:</strong><br>Identical to Regular Expression.<br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1], &amp;\text{ if str1[i] =.= str2[j]}\\<br>dp[i][j-2] \text{ or } dp[i-1][j] , &amp;\text{ if str2[j] == ‘*’}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s, p)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type p: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        n_s1 = len(s)+<span class="number">1</span></div><div class="line">        n_p1 = len(p)+<span class="number">1</span></div><div class="line"></div><div class="line">        s = <span class="string">'0'</span>+s</div><div class="line">        p = <span class="string">'0'</span>+p</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_p1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_s1)]</div><div class="line">        <span class="comment"># (n_s1, n_p1)</span></div><div class="line">        <span class="comment"># for i in range(n_s1):</span></div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line"></div><div class="line">        </div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_s1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n_p1):</div><div class="line">                <span class="keyword">if</span> s[i] == p[j] <span class="keyword">or</span> (p[j] == <span class="string">'.'</span> <span class="keyword">and</span> i != <span class="number">0</span>):</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">elif</span> p[j] == <span class="string">'*'</span>:</div><div class="line">                    <span class="keyword">print</span> i,s[i],j,p[j]</div><div class="line">                    dp[i][j] = dp[i][j<span class="number">-2</span>] <span class="keyword">or</span> (dp[i<span class="number">-1</span>][j] <span class="keyword">if</span> (s[i] == p[j<span class="number">-1</span>] <span class="keyword">or</span> (p[j<span class="number">-1</span>] == <span class="string">'.'</span> <span class="keyword">and</span> i != <span class="number">0</span>)) <span class="keyword">else</span> <span class="keyword">False</span>)</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="keyword">False</span></div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> dp[n_s1<span class="number">-1</span>][n_p1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    s,p = <span class="string">''</span>, <span class="string">'.'</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.isMatch(s,p)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-44"><a href="#Leetcode-44" class="headerlink" title="Leetcode-44"></a>Leetcode-44</h3><p><a href="https://leetcode.com/problems/wildcard-matching/description/" target="_blank" rel="external">https://leetcode.com/problems/wildcard-matching/description/</a></p>
<div class="note danger"><p>Implement wildcard pattern matching with support for <code>&#39;?&#39;</code> and <code>&#39;*&#39;</code>.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&apos;?&apos; Matches any single character.</div><div class="line">&apos;*&apos; Matches any sequence of characters (including the empty sequence).</div><div class="line"></div><div class="line">The matching should cover the entire input string (not partial).</div><div class="line"></div><div class="line">The function prototype should be:</div><div class="line">bool isMatch(const char *s, const char *p)</div><div class="line"></div><div class="line">Some examples:</div><div class="line">isMatch(&quot;aa&quot;,&quot;a&quot;) → false</div><div class="line">isMatch(&quot;aa&quot;,&quot;aa&quot;) → true</div><div class="line">isMatch(&quot;aaa&quot;,&quot;aa&quot;) → false</div><div class="line">isMatch(&quot;aa&quot;, &quot;*&quot;) → true</div><div class="line">isMatch(&quot;aa&quot;, &quot;a*&quot;) → true</div><div class="line">isMatch(&quot;ab&quot;, &quot;?*&quot;) → true</div><div class="line">isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) → false</div></pre></td></tr></table></figure>
<p><strong>Transform:</strong><br>Identical to Wild card matching.<br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1], &amp;\text{ if str1[i] =?= str2[j]}\\<br>dp[i][j-1] or dp[i-1][j], &amp;\text{ if str2[i] == ‘*’}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s, p)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type p: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        n_s1 = len(s)+<span class="number">1</span></div><div class="line">        n_p1 = len(p)+<span class="number">1</span></div><div class="line">        s = <span class="string">'0'</span>+s</div><div class="line">        p = <span class="string">'0'</span>+p</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_p1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_s1)]</div><div class="line">        <span class="comment"># (n_s1, n_p1)</span></div><div class="line">        </div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_s1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n_p1):</div><div class="line">                <span class="keyword">if</span> s[i] == p[j] <span class="keyword">or</span> (p[j] == <span class="string">'?'</span> <span class="keyword">and</span> i != <span class="number">0</span>):</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">elif</span> p[j] == <span class="string">'*'</span>:</div><div class="line">                    dp[i][j] = dp[i][j<span class="number">-1</span>] <span class="keyword">or</span> dp[i<span class="number">-1</span>][j] </div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="keyword">False</span></div><div class="line">        <span class="keyword">return</span> dp[n_s1<span class="number">-1</span>][n_p1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    s,p = <span class="string">''</span>, <span class="string">'.'</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.isMatch(s,p)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-97"><a href="#Leetcode-97" class="headerlink" title="Leetcode-97"></a>Leetcode-97</h3><p><a href="https://leetcode.com/problems/interleaving-string/description/" target="_blank" rel="external">https://leetcode.com/problems/interleaving-string/description/</a></p>
<div class="note danger"><p>Given s1, s2, s3, find whether s3 is formed by the interleaving of s1 and s2.</p>
<p>For example, given:<br>s1 = <code>&quot;aabcc&quot;</code>,<br>s2 = <code>&quot;dbbca&quot;</code>,  </p>
<p>When s3 = <code>&quot;aadbbcbcac&quot;</code>, return true.<br>When s3 = <code>&quot;aadbbbaccc&quot;</code>, return false.</p>
</div>
<p><strong>Transform:</strong><br>Identical to String interleaving.<br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j] \text{ or } dp[i][j-1], &amp;\text{ if str1[i] == str3[i+j] == str2[j]}\\<br>dp[i-1][j], &amp;\text{ if str1[i] == str3[i+j] == str2[j]}\\<br>do[i][j-1], &amp;\text{ if str1[i] != str3[i+j] == str2[j]}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isInterleave</span><span class="params">(self, s1, s2, s3)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s1: str</div><div class="line">        :type s2: str</div><div class="line">        :type s3: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        n1_s1 = len(s1)+<span class="number">1</span></div><div class="line">        n2_s1 = len(s2)+<span class="number">1</span></div><div class="line">        n3_s1 = len(s3)+<span class="number">2</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> n1_s1 + n2_s1 != n3_s1: <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line">        str1 = <span class="string">'_'</span>+s1</div><div class="line">        str2 = <span class="string">'_'</span>+s2</div><div class="line">        str3 = <span class="string">'_'</span>+s3</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n2_s1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n1_s1)]</div><div class="line">        <span class="comment"># (n1_s1, n2_s1)</span></div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n1_s1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n2_s1):</div><div class="line">                <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">and</span> j == <span class="number">0</span>: <span class="keyword">continue</span></div><div class="line">                </div><div class="line">                <span class="keyword">if</span> str1[i] == str3[i+j] <span class="keyword">and</span> str2[j] == str3[i+j]:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j] <span class="keyword">or</span> dp[i][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">elif</span>  str1[i] == str3[i+j] <span class="keyword">and</span> str2[j] != str3[i+j]:</div><div class="line">                    <span class="keyword">print</span> i,str1[i],i+j,str3[i+j]</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j]</div><div class="line">                <span class="keyword">elif</span> str1[i] != str3[i+j] <span class="keyword">and</span> str2[j] == str3[i+j]:</div><div class="line">                    <span class="keyword">print</span> i,j</div><div class="line">                    dp[i][j] = dp[i][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j]  = <span class="keyword">False</span></div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> dp[n1_s1<span class="number">-1</span>][n2_s1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    str1,str2,str3 = <span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'ab'</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.isInterleave(str1,str2,str3)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-392"><a href="#Leetcode-392" class="headerlink" title="Leetcode-392"></a>Leetcode-392</h3><p><a href="https://leetcode.com/problems/is-subsequence/description/" target="_blank" rel="external">https://leetcode.com/problems/is-subsequence/description/</a></p>
<div class="note danger"><p>Given a string <strong>s</strong> and a string <strong>t</strong>, check if <strong>s</strong> is subsequence of <strong>t</strong>.<br>You may assume that there is only lower case English letters in both <strong>s</strong> and <strong>t</strong>. t is potentially a very long (length ~= 500,000) string, and <strong>s</strong> is a short string (&lt;=100).</p>
<p>A subsequence of a string is a new string which is formed from the original string by deleting some (can be none) of the characters without disturbing the relative positions of the remaining characters. (ie, <code>&quot;ace&quot;</code> is a subsequence of <code>&quot;abcde&quot;</code> while <code>&quot;aec&quot;</code> is not).</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">**s** = `&quot;abc&quot;`, **t** = `&quot;ahbgdc&quot;`</div><div class="line"></div><div class="line">Return `true`.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">**s** = `&quot;axc&quot;`, **t** = `&quot;ahbgdc&quot;`</div><div class="line"></div><div class="line">Return `false`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1], &amp;\text{ if str1[i] == str2[j]}\\<br>dp[i][j-1], &amp;\text{if str1[i] != str2[j]}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSubsequence</span><span class="params">(self, s, t)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type t: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        n1_str1 = len(s)+<span class="number">1</span></div><div class="line">        n2_str1 = len(t)+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> n1_str1 &gt; n2_str1 <span class="keyword">or</span> <span class="keyword">not</span> set(t).issuperset(set(s)): <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line">        str1 = <span class="string">'_'</span>+s</div><div class="line">        str2 = <span class="string">'_'</span>+t</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n2_str1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n1_str1)]</div><div class="line">        <span class="comment"># (n1_str1, n2_str1)</span></div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        </div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n1_str1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n2_str1):</div><div class="line">                <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">and</span> j == <span class="number">0</span>: <span class="keyword">continue</span></div><div class="line">                <span class="keyword">if</span> str1[i] == str2[j]:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = dp[i][j<span class="number">-1</span>]</div><div class="line">        <span class="keyword">return</span> dp[n1_str1<span class="number">-1</span>][n2_str1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    str1,str2= <span class="string">"abc"</span>,<span class="string">"ahbgdc"</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.isSubsequence(str1,str2)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-115"><a href="#Leetcode-115" class="headerlink" title="Leetcode-115"></a>Leetcode-115</h3><p><a href="https://leetcode.com/problems/distinct-subsequences/description/" target="_blank" rel="external">https://leetcode.com/problems/distinct-subsequences/description/</a></p>
<div class="note danger"><p>Given a string <strong>S</strong> and a string <strong>T</strong>, count the number of distinct subsequences of <strong>S</strong> which equals <strong>T</strong>.</p>
<p>A subsequence of a string is a new string which is formed from the original string by deleting some (can be none) of the characters without disturbing the relative positions of the remaining characters. (ie, <code>&quot;ACE&quot;</code> is a subsequence of <code>&quot;ABCDE&quot;</code> while <code>&quot;AEC&quot;</code> is not).</p>
</div>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">**S** = `&quot;rabbbit&quot;`, **T** = `&quot;rabbit&quot;`</div><div class="line"></div><div class="line">Return `3`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[i][j] = \begin{cases}<br>dp[i-1][j-1]+ dp[i-1][j], &amp;\text{ if } s[i] == t[j]\\<br>dp[i-1][j], &amp;\text{ if } s[i] != t[j]<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numDistinct</span><span class="params">(self, s, t)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type t: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_s1 = len(s)+<span class="number">1</span></div><div class="line">        n_t1 = len(t)+<span class="number">1</span></div><div class="line"></div><div class="line">        s = <span class="string">'_'</span> + s</div><div class="line">        t = <span class="string">'_'</span> + t</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_t1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_s1)]</div><div class="line">        <span class="comment"># (n_s1, n_t1)</span></div><div class="line">        </div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_s1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n_t1):</div><div class="line">                <span class="keyword">if</span> j == <span class="number">0</span>: dp[i][j] = <span class="number">1</span>; <span class="keyword">continue</span></div><div class="line">                <span class="keyword">if</span> s[i] == t[j]:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + dp[i<span class="number">-1</span>][j]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j]</div><div class="line">        <span class="keyword">return</span> dp[n_s1<span class="number">-1</span>][n_t1<span class="number">-1</span>]</div></pre></td></tr></table></figure>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><h3 id="Longest-increasing-subsequence"><a href="#Longest-increasing-subsequence" class="headerlink" title="Longest increasing subsequence"></a>Longest increasing subsequence</h3><p>Given <code>val[]</code><br>$$dp_t[t] = \max_{0&lt;k&lt;t \text{ and } val_k &lt; val_t} (dp_{t-1}[k] + 1) $$</p>
<ul>
<li>$dp_t[t]$ represents the number of longest increasing subsequence ending with $val_t$ (so that it is addable in latter usage).</li>
<li>When <code>val[t]</code> comes, choose the longest subseq that can be appended by <code>val[t]</code>. If there’s none, $dp_t[t]$ will be 1.</li>
</ul>
<h3 id="Maximum-sum-increasing-subsequence"><a href="#Maximum-sum-increasing-subsequence" class="headerlink" title="Maximum sum increasing subsequence"></a>Maximum sum increasing subsequence</h3><p>Given <code>val[]</code><br>$$dp_t[t] = \max_{0&lt;k&lt;t \text{ and } val_k &lt; val_t} (dp_{t-1}[k] + val_t)$$</p>
<ul>
<li>$dp_t[t]$ represents the sum of the largest increasing subsequence ending with $val_t$ (so that it is addable in latter usage).</li>
<li>When $val_t$ comes, choose the largest subseq that can be appended by $val_t$. If there’s none, $dp_t[t]$ will be $val_t$.</li>
</ul>
<h3 id="Longest-bitonic-sequence"><a href="#Longest-bitonic-sequence" class="headerlink" title="Longest bitonic sequence"></a>Longest bitonic sequence</h3><p>Given <code>val[]</code>, bitonic means sequences which first increases then decreases. (including sequences just increases or just decreases).</p>
<p>That’s just the simple variation of <strong>Longest increasing subsequence</strong>.</p>
<ul>
<li>Construct two array $dp1$ and $dp2$, indicating longest increasing and decreasing sequences respectively, </li>
<li>then $dp1 + dp2 - 1$ will be the resulting array.</li>
</ul>
<h3 id="Maximum-sum-subsequence-non-adjacent"><a href="#Maximum-sum-subsequence-non-adjacent" class="headerlink" title="Maximum sum subsequence non-adjacent"></a>Maximum sum subsequence non-adjacent</h3><p>Given <code>val[]</code><br>$$\begin{align*}<br>&amp; dp_{incl}[t] = dp_{excl}[t-1] + val[t]\\<br>&amp; dp_{excl}[t] = \max(dp_{excl}[t-1], dp_{incl}[t-1])<br>\end{align*}$$</p>
<ul>
<li>$dp_{incl}[t]$ represents the max gain if you include the $t$-th item. </li>
<li>$dp_{excl}[t]$ represents the max gain if you exclude the $t$-th item.</li>
<li>When $val_t$, <ul>
<li>If you include it, your max gain will be $val_t + dp_{excl}[t-1]$.</li>
<li>If you exclude it, your max gain will be max of $dp_{excl}[t-1]$ and $dp_{incl}[t-1]$. (If the val[t-2] is very big, then $dp_{incl}[t-1]$ could be smaller than $dp_{excl}[t-1]$)</li>
</ul>
</li>
</ul>
<h3 id="Stair-case"><a href="#Stair-case" class="headerlink" title="Stair case"></a>Stair case</h3><p>You may choose to step up one or two steps, how many ways you can reach <code>n</code>.</p>
<p>$$f(t) = f(t-1) + f(t-2)$$</p>
<h3 id="Numbers-without-consecutive-1s"><a href="#Numbers-without-consecutive-1s" class="headerlink" title="Numbers without consecutive 1s"></a>Numbers without consecutive 1s</h3><p>Number of combination of digits consists of <code>0</code> and <code>1</code>, but no consecutive <code>1</code>.<br>Similar to stair case.<br>$$f(t) = f(t-1) + f(t-2)$$</p>
<h3 id="Leetcode-70"><a href="#Leetcode-70" class="headerlink" title="Leetcode-70"></a>Leetcode-70</h3><p><a href="https://leetcode.com/problems/climbing-stairs/description/" target="_blank" rel="external">https://leetcode.com/problems/climbing-stairs/description/</a></p>
<div class="note primary"><p>You are climbing a stair case. It takes n steps to reach to the top.<br>Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?<br><strong>Note:</strong> Given n will be a positive integer.</p>
</div>
<p><strong>Transform:</strong><br>Identical to Stair Case.<br>$$f(t) = f(t-1) + f(t-2)$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">climbStairs</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_n1 = n+<span class="number">1</span></div><div class="line">        dp = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)]</div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">2</span>, n_n1):</div><div class="line">            dp[t] = dp[t<span class="number">-1</span>] + dp[t<span class="number">-2</span>]</div><div class="line">        <span class="keyword">return</span> dp[n_n1<span class="number">-1</span>]</div></pre></td></tr></table></figure>
<h3 id="Leetcode-96"><a href="#Leetcode-96" class="headerlink" title="Leetcode-96"></a>Leetcode-96</h3><p><a href="https://leetcode.com/problems/unique-binary-search-trees/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-binary-search-trees/description/</a></p>
<div class="note primary"><p>Given n, how many structurally unique <strong>BST’s</strong> (binary search trees) that store values 1…n?</p>
<p>For example,<br>Given n = 3, there are a total of 5 unique BST’s.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> \       /     /      / \      \</div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       \                 \</div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure>
<p><strong>Transform:</strong><br>$$dp[t] = \sum_{0\leq k \leq t-1} dp[t-k-1] * dp[k]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numTrees</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_n1 = n+<span class="number">1</span></div><div class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)]</div><div class="line">        dp[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>,n_n1):</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>, t):</div><div class="line">                dp[t] +=  dp[k] * dp[t-k<span class="number">-1</span>]</div><div class="line">        <span class="keyword">return</span> dp[n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">3</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.numTrees(n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-95"><a href="#Leetcode-95" class="headerlink" title="Leetcode-95"></a>Leetcode-95</h3><p><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-binary-search-trees-ii/description/</a></p>
<div class="note primary"><p>Given an integer n, generate all structurally unique <strong>BST’s</strong> (binary search trees) that store values 1…n.</p>
<p>For example,<br>Given n = 3, your program should return all 5 unique BST’s shown below.</p>
</div>
<p><strong>Transform:</strong><br>Similar to leetcode-96</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> \       /     /      / \      \</div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       \                 \</div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateTrees</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: List[TreeNode]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> n==<span class="number">0</span>: <span class="keyword">return</span> []</div><div class="line">        <span class="keyword">return</span> self.dfs(<span class="number">1</span>, n)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, low, high)</span>:</span></div><div class="line">        <span class="comment"># tech 1</span></div><div class="line">        <span class="comment"># tech 3</span></div><div class="line">        <span class="keyword">if</span> low &gt; high:</div><div class="line">            <span class="keyword">return</span> [<span class="keyword">None</span>]</div><div class="line">        node_lists = []</div><div class="line">        <span class="keyword">for</span> mid <span class="keyword">in</span> range(low, high+<span class="number">1</span>):</div><div class="line">            <span class="comment"># print low,mid,high</span></div><div class="line">            lefts = self.dfs(low, mid<span class="number">-1</span>)</div><div class="line">            rights = self.dfs(mid+<span class="number">1</span>, high)</div><div class="line"></div><div class="line">            <span class="keyword">for</span> each_left <span class="keyword">in</span> lefts:</div><div class="line">                <span class="keyword">for</span> each_right <span class="keyword">in</span> rights:</div><div class="line">                    root = TreeNode(mid)</div><div class="line">                    root.left = each_left</div><div class="line">                    root.right = each_right</div><div class="line">                    node_lists.append(root)</div><div class="line">        <span class="keyword">return</span> node_lists</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">3</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.generateTrees(n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-198"><a href="#Leetcode-198" class="headerlink" title="Leetcode-198"></a>Leetcode-198</h3><p><a href="https://leetcode.com/problems/house-robber/description/" target="_blank" rel="external">https://leetcode.com/problems/house-robber/description/</a></p>
<div class="note primary"><p>You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security system connected and <strong>it will automatically contact the police if two adjacent houses were broken into on the same night</strong>.</p>
<p>Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight <strong>without alerting the police</strong></p>
</div>
<p><strong>Transform:</strong><br>Similar to maximum sum subsequence non-adjacent.<br>$$\begin{align*}<br>dp\_incl[t] &amp;= val_t + dp\_excl[t-1] \\<br>dp\_excl[t] &amp;= max(dp\_excl[t-1], dp\_incl[t-1])<br>\end{align*}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_incl = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_excl = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>,n_val1):</div><div class="line">            dp_incl[t] = dp_excl[t<span class="number">-1</span>] + vals[t]</div><div class="line">            dp_excl[t] = max(dp_excl[t<span class="number">-1</span>], dp_incl[t<span class="number">-1</span>])</div><div class="line">        <span class="keyword">return</span> max(dp_excl[n_val1<span class="number">-1</span>], dp_incl[n_val1<span class="number">-1</span>])</div></pre></td></tr></table></figure>
<h3 id="Leetcode-213"><a href="#Leetcode-213" class="headerlink" title="Leetcode-213"></a>Leetcode-213</h3><p><a href="https://leetcode.com/problems/house-robber-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/house-robber-ii/description/</a></p>
<div class="note primary"><p>After robbing those houses on that street, the thief has found himself a new place for his thievery so that he will not get too much attention. This time, all houses at this place are <strong>arranged in a circle</strong>. That means the first house is the neighbor of the last one. Meanwhile, the security system for these houses remain the same as for those in the previous street.</p>
<p>Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight <strong>without alerting the police</strong>.</p>
</div>
<p><strong>Transform:</strong><br>Similar to leetcode 198, but neglect first one or last one.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(vals) == <span class="number">1</span>: <span class="keyword">return</span> vals[<span class="number">0</span>]</div><div class="line">        <span class="keyword">return</span> max(self.rob_(vals[<span class="number">1</span>:]), self.rob_(vals[:<span class="number">-1</span>]))</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob_</span><span class="params">(self, nums)</span>:</span></div><div class="line">        vals = [ele <span class="keyword">for</span> ele <span class="keyword">in</span> nums]</div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_incl = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_excl = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            dp_incl[t] = dp_excl[t<span class="number">-1</span>] + vals[t]</div><div class="line">            dp_excl[t] = max(dp_excl[t<span class="number">-1</span>], dp_incl[t<span class="number">-1</span>])</div><div class="line">        <span class="keyword">return</span> max(dp_excl[n_val1<span class="number">-1</span>], dp_incl[n_val1<span class="number">-1</span>])</div></pre></td></tr></table></figure>
<h3 id="Leetcode-152"><a href="#Leetcode-152" class="headerlink" title="Leetcode-152"></a>Leetcode-152</h3><p><a href="https://leetcode.com/problems/maximum-product-subarray/description/" target="_blank" rel="external">https://leetcode.com/problems/maximum-product-subarray/description/</a></p>
<div class="note primary"><p>Find the contiguous subarray within an array (containing at least one number) which has the largest product.</p>
<p>For example, given the array <code>[2,3,-2,4]</code>,<br>the contiguous subarray <code>[2,3]</code> has the largest product = <code>6</code>.</p>
</div>
<p><strong>Transform:</strong><br>$$\begin{align*}<br>dp\_max[t] &amp;= max(dp\_max[t-1]*val\_t, dp\_min[t-1]* val\_t, val\_t)\\<br>dp\_min[t] &amp;= min(dp\_min[t-1]*val\_t, dp\_min[t-1]* val\_t, val\_t)<br>\end{align*}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProduct</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="comment"># if len(vals) == 1: return vals[0]</span></div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line"></div><div class="line">        vals.insert(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_max = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_min = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            dp_max[t] = max(dp_max[t<span class="number">-1</span>]*vals[t], dp_min[t<span class="number">-1</span>]*vals[t], vals[t])</div><div class="line">            dp_min[t] = min(dp_max[t<span class="number">-1</span>]*vals[t], dp_min[t<span class="number">-1</span>]*vals[t], vals[t])</div><div class="line"></div><div class="line">        <span class="keyword">return</span> max(dp_max[<span class="number">1</span>:])</div></pre></td></tr></table></figure>
<h3 id="Leetcode-376"><a href="#Leetcode-376" class="headerlink" title="Leetcode-376"></a>Leetcode-376</h3><p><a href="https://leetcode.com/problems/wiggle-subsequence/description/" target="_blank" rel="external">https://leetcode.com/problems/wiggle-subsequence/description/</a></p>
<div class="note primary"><p>A sequence of numbers is called a <strong>wiggle sequence</strong> if the differences between successive numbers strictly alternate between positive and negative. The first difference (if one exists) may be either positive or negative. A sequence with fewer than two elements is trivially a wiggle sequence.</p>
<p>For example, <code>[1,7,4,9,2,5]</code> is a wiggle sequence because the differences (6,-3,5,-7,3) are alternately positive and negative. In contrast, <code>[1,4,7,2,5]</code> and <code>[1,7,4,5,5]</code> are not wiggle sequences, the first because its first two differences are positive and the second because its last difference is zero.</p>
<p>Given a sequence of integers, return the length of the longest subsequence that is a wiggle sequence. A subsequence is obtained by deleting some number of elements (eventually, also zero) from the original sequence, leaving the remaining elements in their original order.</p>
</div>
<p><strong>Examples:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Input: [1,7,4,9,2,5]</div><div class="line">Output: 6</div><div class="line">The entire sequence is a wiggle sequence.</div><div class="line"></div><div class="line">Input: [1,17,5,10,13,15,10,5,16,8]</div><div class="line">Output: 7</div><div class="line">There are several subsequences that achieve this length. One is [1,17,10,13,10,16,8].</div><div class="line"></div><div class="line">Input: [1,2,3,4,5,6,7,8,9]</div><div class="line">Output: 2</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$\begin{align*}<br>dp\<em>low[t] &amp;= \max</em>{0 \leq k \leq t-1 \text{ and } val_k &gt; val_t}(dp\_high[k])\\<br>dp\<em>high[t] &amp;= \max</em>{0 \leq k \leq t-1 \text{ and } val_k &lt; val_t}(dp\_low[k])<br>\end{align*}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wiggleMaxLength</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> vals == []: <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_low  = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_high = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>, t):</div><div class="line">                <span class="keyword">if</span> vals[t] &gt; vals[k]:</div><div class="line">                    dp_high[t] = max(dp_high[t], dp_low[k]+<span class="number">1</span>)</div><div class="line">                <span class="keyword">if</span> vals[t] &lt; vals[k]:</div><div class="line">                    dp_low[t] = max(dp_low[t], dp_high[k]+<span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> max(dp_high[n_val1<span class="number">-1</span>], dp_low[n_val1<span class="number">-1</span>])</div></pre></td></tr></table></figure>
<h3 id="Leetcode-368"><a href="#Leetcode-368" class="headerlink" title="Leetcode-368"></a>Leetcode-368</h3><p><a href="https://leetcode.com/problems/largest-divisible-subset/description/" target="_blank" rel="external">https://leetcode.com/problems/largest-divisible-subset/description/</a></p>
<div class="note primary"><p>Given a set of <strong>distinct</strong> positive integers, find the largest subset such that every pair (Si, Sj) of elements in this subset satisfies: Si % Sj = 0 or Sj % Si = 0.</p>
<p>If there are multiple solutions, return any subset is fine.</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">nums: [1,2,3]</div><div class="line"></div><div class="line">Result: [1,2] (of course, [1,3] will also be ok)</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">nums: [1,2,4,8]</div><div class="line"></div><div class="line">Result: [1,2,4,8]</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to longest increasing subsequence.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestDivisibleSubset</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: List[int]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> vals == []: <span class="keyword">return</span> []</div><div class="line">        vals = sorted(vals)</div><div class="line"></div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_len = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_p   = range(n_val1)</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            maxval, maxidx = <span class="number">1</span>, t</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>, t):</div><div class="line">                <span class="keyword">if</span> vals[t] % vals[k] == <span class="number">0</span> <span class="keyword">and</span> maxval &lt; dp_len[k]+<span class="number">1</span>:</div><div class="line">                    maxval, maxidx = dp_len[k]+<span class="number">1</span>, k</div><div class="line">            dp_len[t], dp_p[t] = maxval, maxidx</div><div class="line">        </div><div class="line">        <span class="comment"># trace back using dp_p.</span></div><div class="line">        res = []</div><div class="line">        t = dp_len.index(max(dp_len))</div><div class="line">        <span class="keyword">while</span> dp_p[t] != t:</div><div class="line">            res.insert(<span class="number">0</span>, vals[t])</div><div class="line">            t = dp_p[t]</div><div class="line">        res.insert(<span class="number">0</span>, vals[t])</div><div class="line">        <span class="keyword">return</span> res</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    vals = [<span class="number">4</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">240</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.largestDivisibleSubset(vals)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-673"><a href="#Leetcode-673" class="headerlink" title="Leetcode-673"></a>Leetcode-673</h3><p><a href="https://leetcode.com/problems/number-of-longest-increasing-subsequence/description/" target="_blank" rel="external">https://leetcode.com/problems/number-of-longest-increasing-subsequence/description/</a></p>
<div class="note primary"><p>Given an unsorted array of integers, find the number of longest increasing subsequence.</p>
<p><strong>Note:</strong> Length of the given array will be not exceed 2000 and the answer is guaranteed to be fit in 32-bit signed int.</p>
</div>
<p><strong>Transform:</strong><br>Similar to longest increasing subsequence.</p>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [1,3,5,4,7]</div><div class="line">Output: 2</div><div class="line">Explanation: The two longest increasing subsequence are [1, 3, 4, 7] and [1, 3, 5, 7].</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [2,2,2,2,2]</div><div class="line">Output: 5</div><div class="line">Explanation: The length of longest continuous increasing subsequence is 1, and there are 5 subsequences&apos; length is 1, so output 5.</div></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findNumberOfLIS</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp_len = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        dp_num = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            maxval, num = <span class="number">1</span>, <span class="number">1</span></div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>, t):</div><div class="line">                <span class="keyword">if</span> vals[k] &lt; vals[t]: </div><div class="line">                    <span class="keyword">if</span> maxval &lt; dp_len[k]+<span class="number">1</span>:</div><div class="line">                        maxval,num = dp_len[k]+<span class="number">1</span>,dp_num[k]</div><div class="line">                    <span class="keyword">elif</span> maxval == dp_len[k]+<span class="number">1</span>:</div><div class="line">                        maxval,num = dp_len[k]+<span class="number">1</span>,num+dp_num[k]</div><div class="line">            dp_len[t],dp_num[t] = maxval,num</div><div class="line">        <span class="keyword">print</span> dp_len,dp_num</div><div class="line">        <span class="comment"># Add all max length number.</span></div><div class="line">        maxval = max(dp_len)</div><div class="line">        maxnum = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> val,num <span class="keyword">in</span> zip(dp_len,dp_num):</div><div class="line">            <span class="keyword">if</span> val == maxval:</div><div class="line">                maxnum += num</div><div class="line">        <span class="keyword">return</span> maxnum</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    vals = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.findNumberOfLIS(vals)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-264"><a href="#Leetcode-264" class="headerlink" title="Leetcode-264"></a>Leetcode-264</h3><p><a href="https://leetcode.com/problems/ugly-number-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/ugly-number-ii/description/</a></p>
<div class="note primary"><p>Write a program to find the n-th ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>1, 2, 3, 4, 5, 6, 8, 9, 10, 12</code> is the sequence of the first <code>10</code> ugly numbers.</p>
<p>Note that <code>1</code> is typically treated as an ugly number, and n <strong>does not exceed 1690</strong>.</p>
</div>
<p><strong>Transform:</strong><br>$$dp[t] = \min_k&lt;t(dp[k]*2, dp[k]*3, dp[k]*5) $$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nthUglyNumber</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        dp = [<span class="number">0</span>,<span class="number">1</span>]</div><div class="line">        t2,t3,t5 = <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span></div><div class="line">        <span class="keyword">while</span> len(dp) &lt; n+<span class="number">1</span>:</div><div class="line">            <span class="comment"># nextval = min(dp*2, dp*3, dp*5)</span></div><div class="line">            nextval = min(dp[t2]*<span class="number">2</span>, dp[t3]*<span class="number">3</span>, dp[t5]*<span class="number">5</span>)</div><div class="line">            dp.append(nextval)</div><div class="line">            <span class="comment"># move</span></div><div class="line">            <span class="keyword">if</span> dp[t2]*<span class="number">2</span> == nextval: t2 += <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> dp[t3]*<span class="number">3</span> == nextval: t3 += <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> dp[t5]*<span class="number">5</span> == nextval: t5 += <span class="number">1</span></div><div class="line">            <span class="comment"># print t2,t3,t5,nextval</span></div><div class="line">        <span class="comment"># print dp</span></div><div class="line">        <span class="keyword">return</span> dp[<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">6</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.nthUglyNumber(n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-91"><a href="#Leetcode-91" class="headerlink" title="Leetcode-91"></a>Leetcode-91</h3><p><a href="https://leetcode.com/problems/decode-ways/description/" target="_blank" rel="external">https://leetcode.com/problems/decode-ways/description/</a></p>
<div class="note primary"><p>Given an encoded message containing digits, determine the total number of ways to decode it.</p>
<p>A message containing letters from <code>A-Z</code> is being encoded to numbers using the following mapping:</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&apos;A&apos; -&gt; 1</div><div class="line">&apos;B&apos; -&gt; 2</div><div class="line">...</div><div class="line">&apos;Z&apos; -&gt; 26</div></pre></td></tr></table></figure>
<p>For example,<br>Given encoded message <code>&quot;12&quot;</code>, it could be decoded as <code>&quot;AB&quot;</code> (1 2) or <code>&quot;L&quot;</code> (12).<br>The number of ways decoding <code>&quot;12&quot;</code> is 2.</p>
<p><strong>Transform:</strong><br>$$dp[t] = \begin{cases}<br>dp[t-1] + dp[t-2], &amp;\text{ if str[t-2:t] &lt;= 26}\\<br>dp[t-1], &amp;\text{ else}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numDecodings</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> s == <span class="string">''</span>: <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        n_s1 = len(s)+<span class="number">1</span></div><div class="line">        s = <span class="string">'9'</span>+s</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_s1)]</div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_s1):</div><div class="line">            <span class="keyword">if</span> s[t] == <span class="string">'0'</span>:</div><div class="line">                <span class="keyword">if</span> int(s[t<span class="number">-1</span>:t+<span class="number">1</span>]) &lt;= <span class="number">26</span> <span class="keyword">and</span> int(s[t<span class="number">-1</span>:t+<span class="number">1</span>])&gt;<span class="number">0</span>:</div><div class="line">                    dp[t] = dp[t<span class="number">-2</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">if</span> int(s[t<span class="number">-1</span>:t+<span class="number">1</span>]) &lt;= <span class="number">26</span> <span class="keyword">and</span> s[t<span class="number">-1</span>] != <span class="string">'0'</span>:</div><div class="line">                    dp[t] = dp[t<span class="number">-1</span>] + dp[t<span class="number">-2</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[t] = dp[t<span class="number">-1</span>]</div><div class="line">        <span class="keyword">print</span> dp</div><div class="line">        <span class="keyword">return</span> dp[n_s1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    s = <span class="string">'101'</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.numDecodings(s)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-188"><a href="#Leetcode-188" class="headerlink" title="Leetcode-188"></a>Leetcode-188</h3><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/description/" target="_blank" rel="external">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/description/</a></p>
<div class="note primary"><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>Design an algorithm to find the maximum profit. You may complete at most <strong>k</strong> transactions.</p>
<p><strong>Note</strong>:  You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again)</p>
</div>
<p><strong>Transform:</strong><br>$$\begin{align*}<br>dp\_hold[t][i] &amp;= \max(dp\_unho[t-1][i-1] - prices[i], &amp;dp\_hold[t][i-1])\\<br>dp\_unho[t][i] &amp;= \max(dp\_hold[t][i-1]) + prices[i], &amp;dp\_unho[t][i-1]<br>\end{align*}$$<br>First one is to buy or not buy, second one is to sell or not sell.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, k, prices)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type k: int</div><div class="line">        :type prices: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_k1   = k + <span class="number">1</span></div><div class="line">        n_day1 = len(prices) + <span class="number">1</span></div><div class="line">        prices.insert(<span class="number">0</span>,<span class="number">-1</span>)</div><div class="line">        max_price = max(prices)</div><div class="line"></div><div class="line">        dp_hold = [[-max_price<span class="number">-1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_day1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_k1)]</div><div class="line">        dp_unho = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_day1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_k1)]</div><div class="line">        <span class="comment"># (n_day1, n_k1)</span></div><div class="line"></div><div class="line">        <span class="comment"># print dp_hold, dp_unho</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>,n_k1):</div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n_day1):</div><div class="line">                dp_hold[t][i] = max(dp_unho[t<span class="number">-1</span>][i<span class="number">-1</span>] - prices[i], dp_hold[t][i<span class="number">-1</span>])</div><div class="line">                dp_unho[t][i] = max(dp_hold[t][i<span class="number">-1</span>]+prices[i], dp_unho[t][i<span class="number">-1</span>])</div><div class="line"></div><div class="line">        <span class="keyword">print</span> dp_hold, dp_unho</div><div class="line">        <span class="keyword">return</span> dp_unho[n_k1<span class="number">-1</span>][n_day1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    k, prices = <span class="number">2</span>, [<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">7</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.maxProfit(k,prices)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-53"><a href="#Leetcode-53" class="headerlink" title="Leetcode-53"></a>Leetcode-53</h3><p><a href="https://leetcode.com/problems/maximum-subarray/description/" target="_blank" rel="external">https://leetcode.com/problems/maximum-subarray/description/</a></p>
<div class="note primary"><p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.</p>
<p>For example, given the array <code>[-2,1,-3,4,-1,2,1,-5,4]</code>,<br>the contiguous subarray <code>[4,-1,2,1]</code> has the largest sum = <code>6</code>.</p>
</div>
<p><strong>Transform:</strong><br>$$dp[t] =\begin{cases}<br>val_t + dp[t-1], &amp;\text{ if } dp[t-1]&gt;0 \\<br>val_t, &amp;\text{ if } dp[t-1] \leq 0<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span><span class="params">(self, vals)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [-float(<span class="string">'inf'</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            <span class="keyword">if</span> dp[t<span class="number">-1</span>]&gt;<span class="number">0</span>:</div><div class="line">                dp[t] = dp[t<span class="number">-1</span>] + vals[t]</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                dp[t] = vals[t]</div><div class="line">        <span class="keyword">return</span> max(dp)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-646"><a href="#Leetcode-646" class="headerlink" title="Leetcode-646"></a>Leetcode-646</h3><p><a href="https://leetcode.com/problems/maximum-length-of-pair-chain/description/" target="_blank" rel="external">https://leetcode.com/problems/maximum-length-of-pair-chain/description/</a></p>
<div class="note primary"><p>You are given <code>n</code> pairs of numbers. In every pair, the first number is always smaller than the second number.</p>
<p>Now, we define a pair <code>(c, d)</code> can follow another pair <code>(a, b)</code> if and only if <code>b &lt; c</code>. Chain of pairs can be formed in this fashion.</p>
<p>Given a set of pairs, find the length longest chain which can be formed. You needn’t use up all the given pairs. You can select pairs in any order.</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [[1,2], [2,3], [3,4]]</div><div class="line">Output: 2</div><div class="line">Explanation: The longest chain is [1,2] -&gt; [3,4]</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to longest increasing subsequence.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLongestChain</span><span class="params">(self, pairs)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type pairs: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        pairs = sorted(pairs, key=<span class="keyword">lambda</span> pair:pair[<span class="number">0</span>])</div><div class="line"></div><div class="line">        n_len1 = len(pairs)+<span class="number">1</span></div><div class="line">        pairs.insert(<span class="number">0</span>, (<span class="number">0</span>,<span class="number">0</span>))</div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_len1)]</div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>, n_len1):</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>,t):</div><div class="line">                <span class="keyword">if</span> pairs[k][<span class="number">1</span>] &lt; pairs[t][<span class="number">0</span>]:</div><div class="line">                    dp[t] = max(dp[k]+<span class="number">1</span>, dp[t])</div><div class="line">        <span class="keyword">return</span> max(dp[<span class="number">1</span>:])</div></pre></td></tr></table></figure>
<h2 id="Matrix"><a href="#Matrix" class="headerlink" title="Matrix"></a>Matrix</h2><h3 id="Minimal-cost-path"><a href="#Minimal-cost-path" class="headerlink" title="Minimal cost path"></a>Minimal cost path</h3><h3 id="Total-ways-from-top-left-to-bottom-right"><a href="#Total-ways-from-top-left-to-bottom-right" class="headerlink" title="Total ways from top-left to bottom-right"></a>Total ways from top-left to bottom-right</h3><p>Given a matrix <code>m[][]</code>.</p>
<p>$$dp[i][j] = dp[i-1][j] + dp[i][j-1]$$</p>
<ul>
<li>$dp[i][j]$ represents the route from top-left to <code>m[i][j]</code>. </li>
</ul>
<h3 id="Maximum-sub-square-matrix"><a href="#Maximum-sub-square-matrix" class="headerlink" title="Maximum sub-square matrix"></a>Maximum sub-square matrix</h3><p>Given a matrix <code>m[][]</code>, consists of <code>0</code> and <code>1</code>,</p>
<p>$$dp[i][j] = \begin{cases}<br>\min(dp[i-1][j-1], dp[i][j-1], dp[i-1][j]) + 1, &amp;\text{ if m[i][j] == 1}\\<br>0, &amp;\text{ if m[i][j] == 0}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ represents the max sub-square ending with <code>m[i][j]</code>.</li>
<li>If <code>m[i][j] == 0</code>, then there’s no sub-squaring ending with <code>m[i][j]</code>,</li>
<li>If <code>m[i][j] == 1</code>, then the largest sub-square will be the smallest of left-square, top-square and top-left-square $+1$.</li>
</ul>
<h3 id="Sum-query-in-2D-array"><a href="#Sum-query-in-2D-array" class="headerlink" title="Sum query in 2D array"></a>Sum query in 2D array</h3><p>Given a matrix <code>m[][]</code><br>$$dp[i][j] = dp[i-1][j] + dp[i][j-1] + m[i][j] - dp[i-1][j-1]$$</p>
<ul>
<li>$dp[i][j]$ represents the sum from <code>m[0][0]</code> to <code>m[i][j]</code>.</li>
<li>$dp[i][j]$ = sum(top rectangle) + sum(left ractangle) + m[i][j] - sum(top left rectangle).</li>
</ul>
<h3 id="Maximum-sub-square-with-sides-as-x"><a href="#Maximum-sub-square-with-sides-as-x" class="headerlink" title="Maximum sub-square with sides as x"></a>Maximum sub-square with sides as x</h3><p>Given a matrix <code>m[][]</code> consists of <code>x</code> amd <code>o</code>,<br>$$dp[i][j][0] = \begin{cases}<br>dp[i][j-1][0] + 1, &amp;\text{ if m[i][j] == ‘x’}\\<br>0, &amp;\text{ if m[i][j] == ‘o’}<br>\end{cases}$$<br>$$dp[i][j][1] = \begin{cases}<br>dp[i-1][j][1] + 1, &amp;\text{ if m[i][j] == ‘x’}\\<br>0, &amp;\text{ if m[i][j] == ‘o’}<br>\end{cases}<br>$$</p>
<ul>
<li>$dp[i][j][0]$ represents the horizontal consecutive <code>x</code> up from <code>m[i][j]</code>,</li>
<li>$dp[i][j][1]$ represents the vertical consecutive <code>x</code> left from <code>m[i][j]</code>.</li>
<li>If <code>m[i][j] == o</code>, then there’s no consecutive <code>x</code> both horizontally and vertically.</li>
<li>If <code>m[i][j] == x</code>, consume it to $+1$ and roll back.</li>
</ul>
<h3 id="Leetcode-303"><a href="#Leetcode-303" class="headerlink" title="Leetcode-303"></a>Leetcode-303</h3><p><a href="https://leetcode.com/problems/range-sum-query-immutable/description/" target="_blank" rel="external">https://leetcode.com/problems/range-sum-query-immutable/description/</a></p>
<div class="note warning"><p>Given an integer array nums, find the sum of the elements between indices i and j (i ≤ j), inclusive.</p>
</div>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Given nums = [-2, 0, 3, -5, 2, -1]</div><div class="line"></div><div class="line">sumRange(0, 2) -&gt; 1</div><div class="line">sumRange(2, 5) -&gt; -1</div><div class="line">sumRange(0, 5) -&gt; -3</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[t] = dp_[t-1] + val_t$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        """</div><div class="line">        self.sums = [ele <span class="keyword">for</span> ele <span class="keyword">in</span> nums]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(nums)):</div><div class="line">            self.sums[i] = nums[i] + self.sums[i<span class="number">-1</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRange</span><span class="params">(self, i, j)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type i: int</div><div class="line">        :type j: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> self.sums[j]</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> self.sums[j] - self.sums[i<span class="number">-1</span>]</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Your NumArray object will be instantiated and called as such:</span></div><div class="line"><span class="comment"># obj = NumArray(nums)</span></div><div class="line"><span class="comment"># param_1 = obj.sumRange(i,j)</span></div></pre></td></tr></table></figure>
<h3 id="Leetcode-304"><a href="#Leetcode-304" class="headerlink" title="Leetcode-304"></a>Leetcode-304</h3><p><a href="https://leetcode.com/problems/range-sum-query-2d-immutable/description/" target="_blank" rel="external">https://leetcode.com/problems/range-sum-query-2d-immutable/description/</a></p>
<div class="note warning"><p>Given a 2D matrix matrix, find the sum of the elements inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2).</p>
<p>Range Sum Query 2D<br>The above rectangle (with the red border) is defined by (row1, col1) = <strong>(2, 1)</strong> and (row2, col2) = <strong>(4, 3)</strong>, which contains sum = <strong>8</strong>.</p>
</div>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Given matrix = [</div><div class="line">  [3, 0, 1, 4, 2],</div><div class="line">  [5, 6, 3, 2, 1],</div><div class="line">  [1, 2, 0, 1, 5],</div><div class="line">  [4, 1, 0, 1, 7],</div><div class="line">  [1, 0, 3, 0, 5]</div><div class="line">]</div><div class="line"></div><div class="line">sumRegion(2, 1, 4, 3) -&gt; 8</div><div class="line">sumRegion(1, 1, 2, 2) -&gt; 11</div><div class="line">sumRegion(1, 2, 2, 4) -&gt; 12</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[i][j] = dp[i-1][j] + dp[i][j-1] - dp[i-1][j-1]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, matrix)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type matrix: List[List[int]]</div><div class="line">        """</div><div class="line">        n_row1 = len(matrix)+<span class="number">1</span></div><div class="line">        n_col1 = len(matrix[<span class="number">0</span>])+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_col1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_row1)]</div><div class="line">        <span class="comment"># (n_row1, n_col1)</span></div><div class="line">        </div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n_row1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n_col1):</div><div class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j<span class="number">-1</span>] - dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + matrix[i+<span class="number">1</span>][j+<span class="number">1</span>]</div><div class="line">        self.dp = dp</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRegion</span><span class="params">(self, row1, col1, row2, col2)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type row1: int</div><div class="line">        :type col1: int</div><div class="line">        :type row2: int</div><div class="line">        :type col2: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        dp = self.dp</div><div class="line">        <span class="keyword">return</span> dp[row2+<span class="number">1</span>][col2+<span class="number">1</span>] - dp[row1+<span class="number">1</span>][col2+<span class="number">1</span>] - dp[row2+<span class="number">1</span>][col1+<span class="number">1</span>] + dp[row1+<span class="number">1</span>][col1+<span class="number">1</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Your NumMatrix object will be instantiated and called as such:</span></div><div class="line"><span class="comment"># obj = NumMatrix(matrix)</span></div><div class="line"><span class="comment"># param_1 = obj.sumRegion(row1,col1,row2,col2)</span></div></pre></td></tr></table></figure>
<h3 id="Leetcode-62"><a href="#Leetcode-62" class="headerlink" title="Leetcode-62"></a>Leetcode-62</h3><p><a href="https://leetcode.com/problems/unique-paths/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-paths/description/</a></p>
<div class="note warning"><p>A robot is located at the top-left corner of a m x n grid (marked ‘Start’ in the diagram below).<br>The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked ‘Finish’ in the diagram below).<br>How many possible unique paths are there?</p>
<p><strong>Note:</strong> m and n will be at most 100.</p>
</div>
<p><strong>Transform:</strong><br>$$dp[i][j] = dp[i-1][j] + dp[i][j-1]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">uniquePaths</span><span class="params">(self, m, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type m: int</div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_m1 = m+<span class="number">1</span></div><div class="line">        n_n1 = n+<span class="number">1</span></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)]<span class="keyword">for</span> _ <span class="keyword">in</span> range(n_m1)]</div><div class="line">        <span class="comment"># (n_m1, n_n1)</span></div><div class="line">        dp[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span></div><div class="line">        </div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_m1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n_n1):</div><div class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j<span class="number">-1</span>]</div><div class="line">        <span class="keyword">return</span> dp[n_m1<span class="number">-1</span>][n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    m,n = <span class="number">10</span>,<span class="number">7</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.uniquePaths(m,n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-63"><a href="#Leetcode-63" class="headerlink" title="Leetcode-63"></a>Leetcode-63</h3><p><a href="https://leetcode.com/problems/unique-paths-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-paths-ii/description/</a></p>
<div class="note warning"><p>Follow up for “Unique Paths”:<br>Now consider if some obstacles are added to the grids. How many unique paths would there be?<br>An obstacle and empty space is marked as <code>1</code> and <code>0</code> respectively in the grid.</p>
<p><strong>Note:</strong> m and n will be at most 100.</p>
</div>
<p><strong>Example:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">There is one obstacle in the middle of a 3x3 grid as illustrated below.</div><div class="line">[</div><div class="line">  [0,0,0],</div><div class="line">  [0,1,0],</div><div class="line">  [0,0,0]</div><div class="line">]</div><div class="line"></div><div class="line">The total number of unique paths is `2`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[i][j] =<br>\begin{cases}<br>dp[i-1][j] + dp[i][j-1], &amp;\text{ if matrix[i][j] == 0}\\<br>0, &amp;\text{ if matrix[i][j] == 1}<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">uniquePathsWithObstacles</span><span class="params">(self, obstacleGrid)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type obstacleGrid: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_row1 = len(obstacleGrid)+<span class="number">1</span></div><div class="line">        n_col1 = len(obstacleGrid[<span class="number">0</span>])+<span class="number">1</span></div><div class="line"></div><div class="line">        obstacleGrid.insert(<span class="number">0</span>, [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_col1<span class="number">-1</span>)])</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_row1):</div><div class="line">            obstacleGrid[i].insert(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line">        <span class="comment"># (n_row1, n_col1)</span></div><div class="line">        </div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_col1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_row1)]</div><div class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_row1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n_col1):</div><div class="line">                <span class="keyword">if</span> obstacleGrid[i][j] == <span class="number">0</span>:</div><div class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j<span class="number">-1</span>]</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="number">0</span></div><div class="line">        <span class="keyword">return</span> dp[n_row1<span class="number">-1</span>][n_col1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    grid = [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.uniquePathsWithObstacles(grid)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-221"><a href="#Leetcode-221" class="headerlink" title="Leetcode-221"></a>Leetcode-221</h3><p><a href="https://leetcode.com/problems/maximal-square/description/" target="_blank" rel="external">https://leetcode.com/problems/maximal-square/description/</a></p>
<div class="note warning"><p>Given a 2D binary matrix filled with 0’s and 1’s, find the largest square containing only 1’s and return its area.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">For example, given the following matrix:</div><div class="line"></div><div class="line">1 0 1 0 0</div><div class="line">1 0 1 1 1</div><div class="line">1 1 1 1 1</div><div class="line">1 0 0 1 0</div><div class="line"></div><div class="line">Return 4.</div></pre></td></tr></table></figure>
<p><strong>Transform:</strong><br>$$dp[i][j] = \begin{cases}<br>\min(dp[i-1][j], dp[i][j-1], dp[i][j])+1, &amp;\text{ if }matrix[i][j] == 1\\<br>0,&amp;\text{ if }matrix[i][j] == 0<br>\end{cases}$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maximalSquare</span><span class="params">(self, matrix)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type matrix: List[List[str]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_row1 = len(matrix)+<span class="number">1</span></div><div class="line">        n_col1 = len(matrix[<span class="number">0</span>])+<span class="number">1</span></div><div class="line"></div><div class="line">        matrix.insert(<span class="number">0</span>, <span class="string">'0'</span>)</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_row1):</div><div class="line">            matrix[i] = <span class="string">'0'</span>+matrix[i]</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_col1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_row1)]</div><div class="line">        maxval = <span class="number">0</span></div><div class="line">        <span class="comment"># (n_row1, n_col1)</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n_row1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n_col1):</div><div class="line">                <span class="keyword">if</span> matrix[i][j] == <span class="string">'1'</span>:</div><div class="line">                    dp[i][j] = min(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>], dp[i<span class="number">-1</span>][j<span class="number">-1</span>])+<span class="number">1</span></div><div class="line">                    maxval = max(maxval, dp[i][j])</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="number">0</span></div><div class="line">        <span class="comment"># print dp</span></div><div class="line">        <span class="keyword">return</span> maxval**<span class="number">2</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    matrix = [<span class="string">"10100"</span>,<span class="string">"10111"</span>,<span class="string">"11111"</span>,<span class="string">"10010"</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.maximalSquare(matrix)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-120"><a href="#Leetcode-120" class="headerlink" title="Leetcode-120"></a>Leetcode-120</h3><p><a href="https://leetcode.com/problems/triangle/description/" target="_blank" rel="external">https://leetcode.com/problems/triangle/description/</a></p>
<div class="note warning"><p>Given a triangle, find the minimum path sum from top to bottom. Each step you may move to adjacent numbers on the row below.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">For example, given the following triangle</div><div class="line">[</div><div class="line">     [2],</div><div class="line">    [3,4],</div><div class="line">   [6,5,7],</div><div class="line">  [4,1,8,3]</div><div class="line">]</div><div class="line">The minimum path sum from top to bottom is `11` (i.e., `2 + 3 + 5 + 1 = 11`).</div></pre></td></tr></table></figure>
<p><strong>Transform</strong>:<br>$$dp[i][j] = \min(dp[i-1][j], dp[i-1][j-1]) + matrix[i][j]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumTotal</span><span class="params">(self, triangle)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type triangle: List[List[int]]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_row1 = len(triangle)+<span class="number">1</span></div><div class="line">        n_col1 = len(triangle[<span class="number">-1</span>])+<span class="number">1</span></div><div class="line"></div><div class="line">        triangle.insert(<span class="number">0</span>, [<span class="number">0</span>])</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_row1):</div><div class="line">            triangle[i].insert(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[float(<span class="string">'inf'</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_col1)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_row1)]</div><div class="line">        <span class="comment"># (n_row1, n_col1)</span></div><div class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n_col1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, i+<span class="number">1</span>):</div><div class="line">                dp[i][j] = min(dp[i<span class="number">-1</span>][j], dp[i<span class="number">-1</span>][j<span class="number">-1</span>]) + triangle[i][j]</div><div class="line">        <span class="comment"># print dp</span></div><div class="line">        <span class="keyword">return</span> min(dp[n_row1<span class="number">-1</span>])</div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    triangle = [\</div><div class="line">    [<span class="number">2</span>],\</div><div class="line">    [<span class="number">3</span>,<span class="number">4</span>],\</div><div class="line">   [<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>],\</div><div class="line">  [<span class="number">4</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">3</span>]\</div><div class="line">]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.minimumTotal(triangle)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-523"><a href="#Leetcode-523" class="headerlink" title="Leetcode-523"></a>Leetcode-523</h3><p><a href="https://leetcode.com/problems/continuous-subarray-sum/description/" target="_blank" rel="external">https://leetcode.com/problems/continuous-subarray-sum/description/</a></p>
<div class="note warning"><p>Given a list of <strong>non-negative</strong> numbers and a target <strong>integer</strong> k, write a function to check if the array has a continuous subarray of size at least 2 that sums up to the multiple of <strong>k</strong>, that is, sums up to n<em>k where n is also an <em>*integer</em></em>.</p>
<p><strong>Note:</strong>  </p>
<ol>
<li>The length of the array won’t exceed 10,000.</li>
<li>You may assume the sum of all the numbers is in the range of a signed 32-bit integer.</li>
</ol>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [23, 2, 4, 6, 7],  k=6</div><div class="line">Output: True</div><div class="line">Explanation: Because [2, 4] is a continuous subarray of size 2 and sums up to 6.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: [23, 2, 6, 4, 7],  k=6</div><div class="line">Output: True</div><div class="line">Explanation: Because [23, 2, 6, 4, 7] is an continuous subarray of size 5 and sums up to 42.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>$$dp[t] = (dp[t-1] + val_t) % k$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">checkSubarraySum</span><span class="params">(self, vals, k)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type k: int</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> vals == []: <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">        n_val1 = len(vals)+<span class="number">1</span></div><div class="line">        vals.insert(<span class="number">0</span>,<span class="number">0</span>)</div><div class="line"></div><div class="line">        val_idx = &#123;<span class="number">0</span>:<span class="number">0</span>&#125;</div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val1)]</div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_val1):</div><div class="line">            <span class="keyword">if</span> k == <span class="number">0</span>: dp[i] = dp[i<span class="number">-1</span>] + vals[i]</div><div class="line">            <span class="keyword">else</span> dp[i] = (dp[i<span class="number">-1</span>] + vals[i]) % k</div><div class="line">            idx = val_idx.get(dp[i], <span class="number">-1</span>)</div><div class="line">            <span class="keyword">if</span> idx == <span class="number">-1</span>:</div><div class="line">                val_idx[dp[i]] = i</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">if</span> i - idx &gt;<span class="number">1</span>:</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">False</span></div></pre></td></tr></table></figure>
<h1 id="Diagonal"><a href="#Diagonal" class="headerlink" title="Diagonal"></a>Diagonal</h1><h2 id="Start-middle-end"><a href="#Start-middle-end" class="headerlink" title="Start-middle-end"></a>Start-middle-end</h2><h3 id="Matrix-chain-multiplication"><a href="#Matrix-chain-multiplication" class="headerlink" title="Matrix chain multiplication"></a>Matrix chain multiplication</h3><p><code>p[0,...,n]</code> the dimensions.<br>$$dp[i][j] = \min_{i&lt;k&lt;j}(dp[i][k] + dp[k][j] + p[i]\times p[k]\times p[j])$$ </p>
<ul>
<li>$dp[i][j]$ represents the minimal cost to compute from <code>p[i]</code> to <code>p[j]</code>.</li>
<li>Assume <code>p[i...j]</code> last parts from $k (i&lt;k&lt;j)$, check which $k$ costs the smallest. </li>
</ul>
<h3 id="Burst-balloon"><a href="#Burst-balloon" class="headerlink" title="Burst balloon"></a>Burst balloon</h3><p>Given <code>num[]</code>, suppose <code>num[-1]=1</code> and <code>num[n]=1</code>, so <code>len(new_num)==n+2</code></p>
<p>$$dp[i][j] = \max_{i&lt;k&lt;j} dp[i][k] + dp[k][j] + new_num[i] \times new_num[k] \times new_num[j]$$</p>
<ul>
<li>$dp[i][j]$ represents the max gain from <code>num[i]</code> to <code>num[j]</code> (without bursting $i$ and $j$).</li>
<li>Assume we last burst <code>num[k]</code> in <code>num[i..k..j]</code>, choose the best $k$.</li>
</ul>
<h3 id="Leetcode-312"><a href="#Leetcode-312" class="headerlink" title="Leetcode-312"></a>Leetcode-312</h3><p><a href="https://leetcode.com/problems/burst-balloons/description/" target="_blank" rel="external">https://leetcode.com/problems/burst-balloons/description/</a></p>
<div class="note info"><p>Given <code>n</code> balloons, indexed from <code>0</code> to <code>n-1</code>. Each balloon is painted with a number on it represented by array <code>nums</code>. You are asked to burst all the balloons. If the you burst balloon i you will get <code>nums[left] * nums[i] * nums[right]</code> coins. Here <code>left</code> and <code>right</code> are adjacent indices of <code>i</code>. After the burst, the <code>left</code> and <code>right</code> then becomes adjacent.</p>
<p>Find the maximum coins you can collect by bursting the balloons wisely.</p>
<p><strong>Note:</strong><br>(1) You may imagine <code>nums[-1] = nums[n] = 1</code>. They are not real therefore you can not burst them.<br>(2) 0 ≤ <code>n</code> ≤ 500, 0 ≤ <code>nums[i]</code> ≤ 100</p>
</div>
<p><strong>Example:</strong> Given <code>[3, 1, 5, 8]</code>, Return <code>167</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">nums = [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []</div><div class="line">coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Identical to Burst balloon.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxCoins</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        nums.insert(<span class="number">0</span>,<span class="number">1</span>)</div><div class="line">        nums.append(<span class="number">1</span>)</div><div class="line">        n_val = len(nums)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_val)]</div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> diff <span class="keyword">in</span> range(<span class="number">2</span>,n_val):</div><div class="line">            i,j = <span class="number">0</span>, diff</div><div class="line">            <span class="keyword">while</span> j &lt; n_val:</div><div class="line">                maxval = -float(<span class="string">'inf'</span>)</div><div class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> range(i+<span class="number">1</span>,j):</div><div class="line">                    maxval = max(maxval, dp[i][k] + dp[k][j] + nums[i] * nums[k] * nums[j])</div><div class="line">                dp[i][j] = maxval</div><div class="line">                </div><div class="line">                i,j =i+<span class="number">1</span>, j+<span class="number">1</span></div><div class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][n_val<span class="number">-1</span>]</div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    nums = [<span class="number">40</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">10</span>, <span class="number">30</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.maxCoins(nums)</div></pre></td></tr></table></figure>
<h2 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h2><h3 id="Optimal-binary-search-tree"><a href="#Optimal-binary-search-tree" class="headerlink" title="Optimal binary search tree"></a>Optimal binary search tree</h3><p>Given <code>node[]</code> and corresponding <code>prob[]</code>, find the bst with minimal expected search depth.<br>$$dp[i][j] = \min(dp[i][k-1] + dp[k+1][j] + sum\_prob[i][j])$$</p>
<ul>
<li>$dp[i][j]$ represents minimal cost from <code>node[i]</code> to <code>node[j]</code>.</li>
<li>Assume the root of <code>node[i...j]</code> is <code>node[k]</code>, see which $k$ costs less. </li>
<li>Once the tree is 1 level deeper, must add all the <code>prob</code> value of all <code>node[i...j]</code>, and $sum\_prob$ is pre-constructed by<br>$$sum\_prob[i][j] = sum\_prob[i-1][j] + sum\_prob[i][j-1]$$</li>
</ul>
<h3 id="Count-number-of-BST-given-n"><a href="#Count-number-of-BST-given-n" class="headerlink" title="Count number of BST given n"></a>Count number of BST given n</h3><p>Given <code>node = range(n)</code>:</p>
<p>$$dp[i][j] = \sum_{i&lt;k&lt;j}(dp[i][k-1] \times dp[k+1][j])$$</p>
<ul>
<li>$dp[i][j]$ represents number of different BST from <code>node[i]</code> to <code>node[j]</code>.</li>
<li>Assume the root node from <code>node[i]</code> to <code>node[j]</code> is <code>node[k]</code>, add all possible combination of left and right tree. </li>
<li>Note that the formula can be optimized, since the number of possible trees with same node number is the same.<br>$$dp[t] = \sum_{0\leq i \leq t} dp[i] \times dp[t-i]$$</li>
</ul>
<h3 id="Count-number-of-binary-tree-possible-given-pre-order-sequence"><a href="#Count-number-of-binary-tree-possible-given-pre-order-sequence" class="headerlink" title="Count number of binary tree possible given pre-order sequence"></a>Count number of binary tree possible given pre-order sequence</h3><p>Given <code>pre[]</code><br>$$dp[i][j] = \sum_{k = i+0.5,…,j+0.5} dp[i+1][k-0.5] \times dp[k+0.5][j]$$</p>
<ul>
<li>$dp[i][j]$ represents tree number from <code>node[i]</code> to <code>node[j]</code>.</li>
<li>Assume we parts <code>node[i+1..j]</code> from k+0.5, add all possible combination of left and right tree.</li>
<li>Note that the formula can be optimized, since the number of possible trees with same node number is the same.<br>$$dp[t] = \sum_{0\leq i \leq t} dp[i] \times dp[t-i]$$</li>
</ul>
<h3 id="Leetcode-96-1"><a href="#Leetcode-96-1" class="headerlink" title="Leetcode-96"></a>Leetcode-96</h3><p><a href="https://leetcode.com/problems/unique-binary-search-trees/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-binary-search-trees/description/</a></p>
<div class="note default"><p>Given n, how many structurally unique <strong>BST’s</strong> (binary search trees) that store values 1…n?</p>
</div>
<p>For example, given n = 3, there are a total of 5 unique BST’s.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> \       /     /      / \      \</div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       \                 \</div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to Count number of BST given n.<br>$$dp[t] = \sum_{0\leq k \leq t-1} dp[t-k-1] * dp[k]$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numTrees</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_n1 = n+<span class="number">1</span></div><div class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_n1)]</div><div class="line">        dp[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">1</span>,n_n1):</div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>, t):</div><div class="line">                dp[t] +=  dp[k] * dp[t-k<span class="number">-1</span>]</div><div class="line">        <span class="keyword">return</span> dp[n_n1<span class="number">-1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">3</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.numTrees(n)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-95-1"><a href="#Leetcode-95-1" class="headerlink" title="Leetcode-95"></a>Leetcode-95</h3><p><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/unique-binary-search-trees-ii/description/</a></p>
<div class="note default"><p>Given an integer n, generate all structurally unique <strong>BST’s</strong> (binary search trees) that store values 1…n.</p>
</div>
<p>For example, given n = 3, your program should return all 5 unique BST’s shown below.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1         3     3      2      1</div><div class="line"> \       /     /      / \      \</div><div class="line">  3     2     1      1   3      2</div><div class="line"> /     /       \                 \</div><div class="line">2     1         2                 3</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to Count number of BST given n, formula (1).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateTrees</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: List[TreeNode]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> n==<span class="number">0</span>: <span class="keyword">return</span> []</div><div class="line">        <span class="keyword">return</span> self.dfs(<span class="number">1</span>, n)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, low, high)</span>:</span></div><div class="line">        <span class="comment"># tech 1</span></div><div class="line">        <span class="comment"># tech 3</span></div><div class="line">        <span class="keyword">if</span> low &gt; high:</div><div class="line">            <span class="keyword">return</span> [<span class="keyword">None</span>]</div><div class="line">        node_lists = []</div><div class="line">        <span class="keyword">for</span> mid <span class="keyword">in</span> range(low, high+<span class="number">1</span>):</div><div class="line">            <span class="comment"># print low,mid,high</span></div><div class="line">            lefts = self.dfs(low, mid<span class="number">-1</span>)</div><div class="line">            rights = self.dfs(mid+<span class="number">1</span>, high)</div><div class="line"></div><div class="line">            <span class="keyword">for</span> each_left <span class="keyword">in</span> lefts:</div><div class="line">                <span class="keyword">for</span> each_right <span class="keyword">in</span> rights:</div><div class="line">                    root = TreeNode(mid)</div><div class="line">                    root.left = each_left</div><div class="line">                    root.right = each_right</div><div class="line">                    node_lists.append(root)</div><div class="line">        <span class="keyword">return</span> node_lists</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    n = <span class="number">3</span></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.generateTrees(n)</div></pre></td></tr></table></figure>
<h2 id="String-1"><a href="#String-1" class="headerlink" title="String"></a>String</h2><h3 id="Is-palindromic"><a href="#Is-palindromic" class="headerlink" title="Is palindromic"></a>Is palindromic</h3><p>Given <code>str</code>.<br>$$dp[i][j] = \begin{cases}<br>True, &amp;\text{ if str[i]==str[j] and dp[i+1][j-1] == True}\\<br>False, &amp;\text{ else}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ (boolean) represents whether <code>str[i...j]</code> is palindromic.</li>
<li>If <code>str[i] == str[j]</code> and <code>str[i+1...j-1]</code> is palindromic then <code>str[i..j]</code> is palindromic.</li>
</ul>
<h3 id="Longest-palindromic-subsequence"><a href="#Longest-palindromic-subsequence" class="headerlink" title="Longest palindromic subsequence"></a>Longest palindromic subsequence</h3><p>Given <code>str</code>.<br>$$dp[i][j] = \begin{cases}<br>\max(dp[i+1][j] + dp[i][j-1]), &amp;\text{ if str[i] != str[j]}\\<br>dp[i-1][j-1]  + 2, &amp;\text{ if str[i] == str[j]}<br>\end{cases}$$ </p>
<ul>
<li>$dp[i][j]$ represents the length of longest palindromic subsequence from <code>str[i]</code> to <code>str[j]</code>.</li>
<li>If <code>str[i] == str[j]</code> consume the two character to <code>+2</code> and move back to $dp[i-1][j-1]$;</li>
<li>else, <em>left+1</em> i.e. $dp[i+1][j]$ or <em>right-1</em> i.e. $dp[i][j-1]$.</li>
</ul>
<h3 id="Palindromic-partition"><a href="#Palindromic-partition" class="headerlink" title="Palindromic partition"></a>Palindromic partition</h3><p>Given <code>str</code>:<br>$$dp[i][j] = \begin{cases}<br>0, &amp;\text{ if str[i] == str[j] and $dp[i-1][j-1] == 0$}\\<br>\min_k(dp[i][k] + dp[k][j])+1, &amp;\text{ else}<br>\end{cases}$$</p>
<ul>
<li>$dp[i][j]$ represents the minimum split to make all splitted string palindromic.</li>
<li>If <code>str[i] == str[j]</code> and <code>dp[i-1][j-1] == 0</code> then <code>str[i:j]</code> is palindromic;</li>
<li>Else, assume we partition it at <code>str[k]</code>, choose the best $k$.</li>
<li>Time complexity: $O(n^3)$</li>
</ul>
<p>You can do it that way:<br>$$mincut[i] = \min_{0 \leq j \leq i \text{ and } dp[i][j] = True}(mincut[i], mincut[j]+1)$$</p>
<ul>
<li>Time complexity: $O(n^2)$</li>
</ul>
<h3 id="Word-break"><a href="#Word-break" class="headerlink" title="Word break"></a>Word break</h3><p>Given <code>str</code> and <code>dict{}</code>.<br>$$dp[i][j] = \Big(str[i:j] \text{ in dict}\Big) or \Big( or_{i&lt;k&lt;j}(dp[i][k] \text{ and } dp[k+1][j]) \Big) $$</p>
<ul>
<li>$dp[i][j]$ <em>boolean</em> represents if <code>str[i:j]</code> can be break into words in dictionary.</li>
<li>If <code>str[i:j]</code> is in dict as a whole, then $dp[i][j]$ is true; </li>
<li>or you can break <code>str[i:j]</code> from <code>k</code>, then $dp[i][j]$ is true; else false. </li>
</ul>
<h3 id="Leetcode-516"><a href="#Leetcode-516" class="headerlink" title="Leetcode-516"></a>Leetcode-516</h3><p><a href="https://leetcode.com/problems/longest-palindromic-subsequence/description/" target="_blank" rel="external">https://leetcode.com/problems/longest-palindromic-subsequence/description/</a></p>
<div class="note success"><p>Given a string s, find the longest palindromic subsequence’s length in s. You may assume that the maximum length of s is 1000.</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">    &quot;bbbab&quot;</div><div class="line">Output:</div><div class="line">    4</div><div class="line">One possible longest palindromic subsequence is &quot;bbbb&quot;.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">    &quot;cbbd&quot;</div><div class="line">Output:</div><div class="line">    2</div><div class="line">One possible longest palindromic subsequence is &quot;bb&quot;.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Identical to Longest palindromic subsequence.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindromeSubseq</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_str = len(s)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n_str):</div><div class="line">            dp[i][i] = <span class="number">1</span></div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> j_start <span class="keyword">in</span> range(<span class="number">1</span>, n_str):</div><div class="line">            i,j = <span class="number">0</span>,j_start</div><div class="line">            <span class="keyword">while</span> j &lt; n_str:</div><div class="line">                <span class="keyword">if</span> s[i] == s[j]:</div><div class="line">                    dp[i][j] = dp[i+<span class="number">1</span>][j<span class="number">-1</span>] + <span class="number">2</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = max(dp[i+<span class="number">1</span>][j], dp[i][j<span class="number">-1</span>])</div><div class="line">                i,j = i+<span class="number">1</span>, j+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][n_str<span class="number">-1</span>]</div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    str = <span class="string">'bbbab'</span></div><div class="line"></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.longestPalindromeSubseq(str)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-132"><a href="#Leetcode-132" class="headerlink" title="Leetcode-132"></a>Leetcode-132</h3><p><a href="https://leetcode.com/problems/palindrome-partitioning-ii/description/" target="_blank" rel="external">https://leetcode.com/problems/palindrome-partitioning-ii/description/</a></p>
<div class="note success"><p>Given a string s, partition s such that every substring of the partition is a palindrome.<br>Return the minimum cuts needed for a palindrome partitioning of s.<br>For example, given s = <code>&quot;aab&quot;</code>,<br>Return <code>1</code> since the palindrome partitioning `[“aa”,”b”]`` could be produced using 1 cut.</p>
</div>
<p><strong>Transform:</strong><br>Identical to palindromic partition.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCut</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        s = <span class="string">'_'</span>+s</div><div class="line">        n_str = len(s)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)]</div><div class="line">        a  = range(<span class="number">-1</span>,n_str) </div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> j_start <span class="keyword">in</span> range(<span class="number">0</span>, n_str):</div><div class="line">            i,j = <span class="number">0</span>,j_start</div><div class="line">            <span class="keyword">while</span> j &lt; n_str:</div><div class="line">                <span class="keyword">if</span> s[i] == s[j] <span class="keyword">and</span> (i == j <span class="keyword">or</span> dp[i+<span class="number">1</span>][j<span class="number">-1</span>] == <span class="number">0</span>):</div><div class="line">                    dp[i][j] = <span class="number">0</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="number">1</span></div><div class="line">                i,j = i+<span class="number">1</span>, j+<span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n_str):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,i+<span class="number">1</span>):</div><div class="line">                <span class="keyword">if</span> dp[j][i] == <span class="number">0</span>:</div><div class="line">                    a[i] = min(a[i], a[j<span class="number">-1</span>]+<span class="number">1</span>)</div><div class="line">        <span class="comment"># print a</span></div><div class="line">        <span class="keyword">return</span> a[n_str<span class="number">-1</span>]</div></pre></td></tr></table></figure>
<h3 id="Leetcode-139"><a href="#Leetcode-139" class="headerlink" title="Leetcode-139"></a>Leetcode-139</h3><p><a href="https://leetcode.com/problems/word-break/description/" target="_blank" rel="external">https://leetcode.com/problems/word-break/description/</a></p>
<div class="note success"><p>Given a <strong>non-empty</strong> string s and a dictionary wordDict containing a list of <strong>non-empty</strong> words, determine if s can be segmented into a space-separated sequence of one or more dictionary words. You may assume the dictionary does not contain duplicate words.</p>
</div>
<p>For example, given<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">s = `&quot;leetcode&quot;`,</div><div class="line">dict = `[&quot;leet&quot;, &quot;code&quot;]`.</div><div class="line"></div><div class="line">Return true because `&quot;leetcode&quot;` can be segmented as `&quot;leet code&quot;`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Identical to Word Break.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordBreak</span><span class="params">(self, s, wordDict)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type wordDict: List[str]</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        n_str = len(s)</div><div class="line"></div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp_arr = [ <span class="keyword">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)]</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,n_str):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,i+<span class="number">1</span>):</div><div class="line">                <span class="keyword">if</span> s[j:i+<span class="number">1</span>] <span class="keyword">in</span> wordDict:</div><div class="line">                    <span class="keyword">if</span> j == <span class="number">0</span> <span class="keyword">or</span> dp_arr[j<span class="number">-1</span>] == <span class="keyword">True</span>:</div><div class="line">                        dp_arr[i] = <span class="keyword">True</span></div><div class="line">                        <span class="keyword">break</span></div><div class="line">        <span class="keyword">return</span> dp_arr[n_str<span class="number">-1</span>]</div></pre></td></tr></table></figure>
<h3 id="Leetcode-140"><a href="#Leetcode-140" class="headerlink" title="Leetcode-140"></a>Leetcode-140</h3><div class="note success"><p>Given a <strong>non-empty</strong> string s and a dictionary wordDict containing a list of <strong>non-empty</strong> words, add spaces in s to construct a sentence where each word is a valid dictionary word. You may assume the dictionary does not contain duplicate words.</p>
<p>Return all such possible sentences.</p>
</div>
<p>For example, given<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">s = `&quot;catsanddog&quot;`,</div><div class="line">dict = `[&quot;cat&quot;, &quot;cats&quot;, &quot;and&quot;, &quot;sand&quot;, &quot;dog&quot;]`.</div><div class="line"></div><div class="line">A solution is `[&quot;cats and dog&quot;, &quot;cat sand dog&quot;]`.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to Word Break.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordBreak</span><span class="params">(self, s, wordDict)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type wordDict: List[str]</div><div class="line">        :rtype: List[str]</div><div class="line">        """</div><div class="line">        n_s1 = len(s)+<span class="number">1</span></div><div class="line">        s = <span class="string">'_'</span>+s</div><div class="line"></div><div class="line">        <span class="comment"># initialize</span></div><div class="line">        dp = [[<span class="keyword">False</span>, []] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_s1)]</div><div class="line">        dp[<span class="number">0</span>] = [<span class="keyword">True</span>, [<span class="string">''</span>]]</div><div class="line"></div><div class="line">        <span class="comment"># transform</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n_s1):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, i+<span class="number">1</span>):</div><div class="line">                <span class="keyword">if</span> s[j:i+<span class="number">1</span>] <span class="keyword">in</span> wordDict <span class="keyword">and</span> dp[j<span class="number">-1</span>][<span class="number">0</span>] == <span class="keyword">True</span>:</div><div class="line">                    lst = dp[j<span class="number">-1</span>][<span class="number">1</span>]</div><div class="line">                    <span class="keyword">for</span> each_str <span class="keyword">in</span> lst:</div><div class="line">                        res = each_str + <span class="string">' '</span> + s[j:i+<span class="number">1</span>]</div><div class="line">                        res = res.strip()</div><div class="line">                        dp[i][<span class="number">1</span>].append(res)</div><div class="line">                    dp[i][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        <span class="comment"># print dp</span></div><div class="line">        <span class="keyword">return</span> dp[n_s1<span class="number">-1</span>][<span class="number">1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    s,wordDict = <span class="string">"catsanddog"</span>,[<span class="string">"cat"</span>, <span class="string">"cats"</span>, <span class="string">"and"</span>, <span class="string">"sand"</span>, <span class="string">"dog"</span>]</div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.wordBreak(s, wordDict)</div></pre></td></tr></table></figure>
<h3 id="Leetcode-647"><a href="#Leetcode-647" class="headerlink" title="Leetcode-647"></a>Leetcode-647</h3><p><a href="https://leetcode.com/problems/palindromic-substrings/description/" target="_blank" rel="external">https://leetcode.com/problems/palindromic-substrings/description/</a></p>
<div class="note success"><p>Given a string, your task is to count how many palindromic substrings in this string.<br>The substrings with different start indexes or end indexes are counted as different substrings even they consist of same characters.<br><strong>Note:</strong><br>The input string length won’t exceed 1000.</p>
</div>
<p><strong>Example 1:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: &quot;abc&quot;</div><div class="line">Output: 3</div><div class="line">Explanation: Three palindromic strings: &quot;a&quot;, &quot;b&quot;, &quot;c&quot;.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: &quot;aaa&quot;</div><div class="line">Output: 6</div><div class="line">Explanation: Six palindromic strings: &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;aaa&quot;.</div></pre></td></tr></table></figure></p>
<p><strong>Transform:</strong><br>Similar to Is Palindromic.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSubstrings</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        n_str = len(s)</div><div class="line">        <span class="comment"># Initialize</span></div><div class="line">        dp = [[<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n_str)]</div><div class="line">        num = n_str</div><div class="line">        <span class="comment"># Transform</span></div><div class="line">        <span class="keyword">for</span> j_start <span class="keyword">in</span> range(<span class="number">1</span>, n_str):</div><div class="line">            i,j = <span class="number">0</span>, j_start</div><div class="line">            <span class="keyword">while</span> j &lt; n_str:</div><div class="line">                <span class="keyword">if</span> s[i] == s[j] <span class="keyword">and</span> dp[i+<span class="number">1</span>][j<span class="number">-1</span>] == <span class="number">1</span>:</div><div class="line">                    dp[i][j] = <span class="number">1</span></div><div class="line">                    num += <span class="number">1</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    dp[i][j] = <span class="number">0</span></div><div class="line">                i,j = i+<span class="number">1</span>,j+<span class="number">1</span></div><div class="line">        <span class="keyword">return</span> num</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    str = <span class="string">'aab'</span></div><div class="line"></div><div class="line">    slt = Solution()</div><div class="line">    <span class="keyword">print</span> slt.countSubstrings(str)</div></pre></td></tr></table></figure>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=347597&auto=1&height=66"></iframe>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/25/independent/" rel="prev" title="independent">
                independent <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Xiaoda" />
          <p class="site-author-name" itemprop="name">Xiaoda</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Horizontal"><span class="nav-number">1.</span> <span class="nav-text">Horizontal</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Do-it-or-not"><span class="nav-number">1.1.</span> <span class="nav-text">Do-it-or-not</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Knapsack-problem"><span class="nav-number">1.1.1.</span> <span class="nav-text">Knapsack problem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Subset-sum"><span class="nav-number">1.1.2.</span> <span class="nav-text">Subset sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Coin-changing-minimum"><span class="nav-number">1.1.3.</span> <span class="nav-text">Coin changing minimum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Coin-changing-number-of-ways"><span class="nav-number">1.1.4.</span> <span class="nav-text">Coin changing number of ways</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Weighted-job-scheduling"><span class="nav-number">1.1.5.</span> <span class="nav-text">Weighted job scheduling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cutting-rod"><span class="nav-number">1.1.6.</span> <span class="nav-text">Cutting rod</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stock-buy-sell"><span class="nav-number">1.1.7.</span> <span class="nav-text">Stock buy sell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-416"><span class="nav-number">1.1.8.</span> <span class="nav-text">Leetcode-416</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-322"><span class="nav-number">1.1.9.</span> <span class="nav-text">Leetcode-322</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-474"><span class="nav-number">1.1.10.</span> <span class="nav-text">Leetcode-474</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-494"><span class="nav-number">1.1.11.</span> <span class="nav-text">Leetcode-494</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-377"><span class="nav-number">1.1.12.</span> <span class="nav-text">Leetcode-377</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-343"><span class="nav-number">1.1.13.</span> <span class="nav-text">Leetcode-343</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-279"><span class="nav-number">1.1.14.</span> <span class="nav-text">Leetcode-279</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">1.2.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Longest-common-subsequence"><span class="nav-number">1.2.1.</span> <span class="nav-text">Longest common subsequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Longest-common-substring"><span class="nav-number">1.2.2.</span> <span class="nav-text">Longest common substring</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Minimum-edit-distance"><span class="nav-number">1.2.3.</span> <span class="nav-text">Minimum edit distance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Regular-Expression"><span class="nav-number">1.2.4.</span> <span class="nav-text">Regular Expression</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Wild-card-matching"><span class="nav-number">1.2.5.</span> <span class="nav-text">Wild card matching</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-Interleaving"><span class="nav-number">1.2.6.</span> <span class="nav-text">String Interleaving</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-72"><span class="nav-number">1.2.7.</span> <span class="nav-text">Leetcode-72</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-10"><span class="nav-number">1.2.8.</span> <span class="nav-text">Leetcode-10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-44"><span class="nav-number">1.2.9.</span> <span class="nav-text">Leetcode-44</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-97"><span class="nav-number">1.2.10.</span> <span class="nav-text">Leetcode-97</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-392"><span class="nav-number">1.2.11.</span> <span class="nav-text">Leetcode-392</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-115"><span class="nav-number">1.2.12.</span> <span class="nav-text">Leetcode-115</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">1.3.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Longest-increasing-subsequence"><span class="nav-number">1.3.1.</span> <span class="nav-text">Longest increasing subsequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maximum-sum-increasing-subsequence"><span class="nav-number">1.3.2.</span> <span class="nav-text">Maximum sum increasing subsequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Longest-bitonic-sequence"><span class="nav-number">1.3.3.</span> <span class="nav-text">Longest bitonic sequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maximum-sum-subsequence-non-adjacent"><span class="nav-number">1.3.4.</span> <span class="nav-text">Maximum sum subsequence non-adjacent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stair-case"><span class="nav-number">1.3.5.</span> <span class="nav-text">Stair case</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Numbers-without-consecutive-1s"><span class="nav-number">1.3.6.</span> <span class="nav-text">Numbers without consecutive 1s</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-70"><span class="nav-number">1.3.7.</span> <span class="nav-text">Leetcode-70</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-96"><span class="nav-number">1.3.8.</span> <span class="nav-text">Leetcode-96</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-95"><span class="nav-number">1.3.9.</span> <span class="nav-text">Leetcode-95</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-198"><span class="nav-number">1.3.10.</span> <span class="nav-text">Leetcode-198</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-213"><span class="nav-number">1.3.11.</span> <span class="nav-text">Leetcode-213</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-152"><span class="nav-number">1.3.12.</span> <span class="nav-text">Leetcode-152</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-376"><span class="nav-number">1.3.13.</span> <span class="nav-text">Leetcode-376</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-368"><span class="nav-number">1.3.14.</span> <span class="nav-text">Leetcode-368</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-673"><span class="nav-number">1.3.15.</span> <span class="nav-text">Leetcode-673</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-264"><span class="nav-number">1.3.16.</span> <span class="nav-text">Leetcode-264</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-91"><span class="nav-number">1.3.17.</span> <span class="nav-text">Leetcode-91</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-188"><span class="nav-number">1.3.18.</span> <span class="nav-text">Leetcode-188</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-53"><span class="nav-number">1.3.19.</span> <span class="nav-text">Leetcode-53</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-646"><span class="nav-number">1.3.20.</span> <span class="nav-text">Leetcode-646</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Matrix"><span class="nav-number">1.4.</span> <span class="nav-text">Matrix</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Minimal-cost-path"><span class="nav-number">1.4.1.</span> <span class="nav-text">Minimal cost path</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Total-ways-from-top-left-to-bottom-right"><span class="nav-number">1.4.2.</span> <span class="nav-text">Total ways from top-left to bottom-right</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maximum-sub-square-matrix"><span class="nav-number">1.4.3.</span> <span class="nav-text">Maximum sub-square matrix</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sum-query-in-2D-array"><span class="nav-number">1.4.4.</span> <span class="nav-text">Sum query in 2D array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maximum-sub-square-with-sides-as-x"><span class="nav-number">1.4.5.</span> <span class="nav-text">Maximum sub-square with sides as x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-303"><span class="nav-number">1.4.6.</span> <span class="nav-text">Leetcode-303</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-304"><span class="nav-number">1.4.7.</span> <span class="nav-text">Leetcode-304</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-62"><span class="nav-number">1.4.8.</span> <span class="nav-text">Leetcode-62</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-63"><span class="nav-number">1.4.9.</span> <span class="nav-text">Leetcode-63</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-221"><span class="nav-number">1.4.10.</span> <span class="nav-text">Leetcode-221</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-120"><span class="nav-number">1.4.11.</span> <span class="nav-text">Leetcode-120</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-523"><span class="nav-number">1.4.12.</span> <span class="nav-text">Leetcode-523</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Diagonal"><span class="nav-number">2.</span> <span class="nav-text">Diagonal</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Start-middle-end"><span class="nav-number">2.1.</span> <span class="nav-text">Start-middle-end</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Matrix-chain-multiplication"><span class="nav-number">2.1.1.</span> <span class="nav-text">Matrix chain multiplication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Burst-balloon"><span class="nav-number">2.1.2.</span> <span class="nav-text">Burst balloon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-312"><span class="nav-number">2.1.3.</span> <span class="nav-text">Leetcode-312</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tree"><span class="nav-number">2.2.</span> <span class="nav-text">Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Optimal-binary-search-tree"><span class="nav-number">2.2.1.</span> <span class="nav-text">Optimal binary search tree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Count-number-of-BST-given-n"><span class="nav-number">2.2.2.</span> <span class="nav-text">Count number of BST given n</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Count-number-of-binary-tree-possible-given-pre-order-sequence"><span class="nav-number">2.2.3.</span> <span class="nav-text">Count number of binary tree possible given pre-order sequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-96-1"><span class="nav-number">2.2.4.</span> <span class="nav-text">Leetcode-96</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-95-1"><span class="nav-number">2.2.5.</span> <span class="nav-text">Leetcode-95</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String-1"><span class="nav-number">2.3.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Is-palindromic"><span class="nav-number">2.3.1.</span> <span class="nav-text">Is palindromic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Longest-palindromic-subsequence"><span class="nav-number">2.3.2.</span> <span class="nav-text">Longest palindromic subsequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Palindromic-partition"><span class="nav-number">2.3.3.</span> <span class="nav-text">Palindromic partition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Word-break"><span class="nav-number">2.3.4.</span> <span class="nav-text">Word break</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-516"><span class="nav-number">2.3.5.</span> <span class="nav-text">Leetcode-516</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-132"><span class="nav-number">2.3.6.</span> <span class="nav-text">Leetcode-132</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-139"><span class="nav-number">2.3.7.</span> <span class="nav-text">Leetcode-139</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-140"><span class="nav-number">2.3.8.</span> <span class="nav-text">Leetcode-140</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-647"><span class="nav-number">2.3.9.</span> <span class="nav-text">Leetcode-647</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaoda</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://moonlightshadow123.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://moonlightshadow123.github.io/2017/10/11/dp/';
          this.page.identifier = '2017/10/11/dp/';
          this.page.title = 'dynamic programming summary';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://moonlightshadow123.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("XY6vdtoqDFVM67G1RoBikwMO-gzGzoHsz", "7CParPLMe084qw0noRhpWBOF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  


<!--added-->


</body>
</html>
