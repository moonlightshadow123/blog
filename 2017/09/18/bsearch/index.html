<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">

<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="leetcode, bsearch," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Leetcode-153,154,162,167,278,34,367,374.">
<meta name="keywords" content="leetcode, bsearch">
<meta property="og:type" content="article">
<meta property="og:title" content="B-search Summary">
<meta property="og:url" content="http://moonlightshadow123.github.io/2017/09/18/bsearch/index.html">
<meta property="og:site_name" content="Small&Big">
<meta property="og:description" content="Leetcode-153,154,162,167,278,34,367,374.">
<meta property="og:updated_time" content="2017-09-21T09:31:48.929Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="B-search Summary">
<meta name="twitter:description" content="Leetcode-153,154,162,167,278,34,367,374.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://moonlightshadow123.github.io/2017/09/18/bsearch/"/>





  <title> B-search Summary | Small&Big </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Small&Big</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://moonlightshadow123.github.io/2017/09/18/bsearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaoda">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Small&Big">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                B-search Summary
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-18T11:09:34+08:00">
                2017-09-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/18/bsearch/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/18/bsearch/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/09/18/bsearch/" class="leancloud_visitors" data-flag-title="B-search Summary">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Leetcode-<code>153</code>,<code>154</code>,<code>162</code>,<code>167</code>,<code>278</code>,<code>34</code>,<code>367</code>,<code>374</code>.<br><a id="more"></a></p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>The whole point of b-search resides in not letting <code>target index</code> out of the range(low-high) (including high). In order to keep <code>target index</code> inside of range(low-high), we have to be careful when choosing the <code>low-mid-high</code> transformation formula. As listed below, there are three set of transformation in b-search.</p>
<ol>
<li>If set 1 (e.g. <code>high = mid - 1</code> <code>low = mid + 1</code>) will keep <code>target index</code> inside, then we use set 1. Set 1 won’t get into a dead loop in any cases when <code>low = high</code> or <code>low+1=high</code> or <code>low+2=high</code>, so we can use <code>while low &lt;= high</code> to be the loop termination condition. (You can use termination 2 or 3 if you like, but that way you may have to check the result after termination).</li>
<li>If set 1 won’t keep <code>target index</code> inside, then we will try set 2. If set 2 will keep it inside, then we will use it, rather than using set 3. You may have to check more values if you use greater set. Set 2 may get into dead loop when <code>low=high</code>, but it won’t when <code>low+1=high</code> or <code>low+2=high</code>, so we use the termination condition <code>while low &lt; high</code>.</li>
<li>If both set 1 and set 2 won’t keep <code>target index</code> inside, then we have to use set 3. Set 3 may get into dead loop when <code>low=high</code> or <code>low+1=high</code>, but it won’t get into dead loop when <code>low+2=high</code>, so we use termination condition <code>while low+1 &lt; high</code>.</li>
</ol>
<table>
<thead>
<tr>
<th>Set Index</th>
<th>Transformation Set</th>
<th>=</th>
<th>+1</th>
<th>+2</th>
<th>Allowed Termination</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>high = mid -1<br>low = mid +1</td>
<td>✕</td>
<td>✕</td>
<td>✕</td>
<td><code>while low &lt;= high</code></td>
</tr>
<tr>
<td>2</td>
<td>high = mid<br>low = mid +1</td>
<td>✔</td>
<td>✕</td>
<td>✕</td>
<td><code>while low &lt; high</code></td>
</tr>
<tr>
<td>3</td>
<td>high = mid<br>low = mid</td>
<td>✔</td>
<td>✔</td>
<td>✕</td>
<td><code>while low+1 &lt; high</code></td>
</tr>
</tbody>
</table>
<p>Let’s check out some b-search examples in leetcode:</p>
<h1 id="Set-1"><a href="#Set-1" class="headerlink" title="Set 1"></a>Set 1</h1><h2 id="leetcode-374"><a href="#leetcode-374" class="headerlink" title="leetcode-374"></a>leetcode-374</h2><p><a href="https://leetcode.com/problems/guess-number-higher-or-lower/" target="_blank" rel="external">https://leetcode.com/problems/guess-number-higher-or-lower/</a></p>
<div class="note info"><p>We are playing the Guess Game. The game is as follows:<br>I pick a number from 1 to n. You have to guess which number I picked.<br>Every time you guess wrong, I’ll tell you whether the number is higher or lower.<br>You call a pre-defined API <code>guess(int num)</code> which returns 3 possible results (<code>-1</code>, <code>1</code>, or <code>0</code>):</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">-1 : My number is lower</div><div class="line"> 1 : My number is higher</div><div class="line"> 0 : Congrats! You got it!</div></pre></td></tr></table></figure>
<p><strong>Example</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">n = 10, I pick 6.</div><div class="line">Return 6.</div></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># The guess API is already defined for you.</span></div><div class="line"><span class="comment"># @param num, your guess</span></div><div class="line"><span class="comment"># @return -1 if my number is lower, 1 if my number is higher, otherwise return 0</span></div><div class="line"><span class="comment"># def guess(num):</span></div><div class="line"></div><div class="line"><span class="comment"># Set 1</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">guessNumber</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        high = n</div><div class="line">        low = <span class="number">1</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt;= high:</div><div class="line">            mid = (high + low) / <span class="number">2</span></div><div class="line">            res = guess(mid)</div><div class="line">            <span class="keyword">if</span> res == <span class="number">-1</span>:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid <span class="number">-1</span></div><div class="line">            <span class="keyword">if</span> res == <span class="number">1</span>:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> res == <span class="number">0</span>:</div><div class="line">                <span class="comment"># In this case, we guess the right number.</span></div><div class="line">                <span class="keyword">return</span> mid</div><div class="line">        <span class="keyword">return</span> low</div></pre></td></tr></table></figure>
<h2 id="Leetcode-367"><a href="#Leetcode-367" class="headerlink" title="Leetcode-367"></a>Leetcode-367</h2><p><a href="https://leetcode.com/problems/valid-perfect-square/" target="_blank" rel="external">https://leetcode.com/problems/valid-perfect-square/</a></p>
<div class="note primary"><p>Given a positive integer num, write a function which returns True if num is a perfect square else False.  </p>
<p><strong>Note: Do not</strong> use any built-in library function such as <code>sqrt</code>.  </p>
</div>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input: 16</div><div class="line">Returns: True</div></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input: 14</div><div class="line">Returns: False</div></pre></td></tr></table></figure></p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 1</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPerfectSquare</span><span class="params">(self, num)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type num: int</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        low = <span class="number">0</span></div><div class="line">        high = num</div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt;= high:</div><div class="line">            mid = (high + low) / <span class="number">2</span></div><div class="line">            <span class="keyword">if</span> mid * mid &lt; num:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> mid * mid &gt; num:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid <span class="number">-1</span></div><div class="line">            <span class="keyword">if</span> mid * mid == num:</div><div class="line">                <span class="comment"># In this case, num is a valid square number.</span></div><div class="line">                <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">        <span class="comment"># We can be sure about if low is the square root of num, so check it.</span></div><div class="line">        <span class="keyword">return</span> low * low == num</div></pre></td></tr></table></figure>
<h2 id="Leetcode-167"><a href="#Leetcode-167" class="headerlink" title="Leetcode-167"></a>Leetcode-167</h2><p><a href="https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/" target="_blank" rel="external">https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/</a></p>
<div class="note success"><p>Given an array of integers that is already <strong>sorted in ascending order</strong>, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution and you may not use the same element twice.</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input: numbers=&#123;2, 7, 11, 15&#125;, target=9</div><div class="line">Output: index1=1, index2=2</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 1</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type numbers: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: List[int]</div><div class="line">        """</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</div><div class="line">            j = self.bsearch(i+<span class="number">1</span>, nums, target-nums[i])</div><div class="line">            <span class="keyword">if</span> j != <span class="number">-1</span>:</div><div class="line">                <span class="keyword">return</span> [i+<span class="number">1</span>, j+<span class="number">1</span>]</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bsearch</span><span class="params">(self, low, nums, target)</span>:</span></div><div class="line">        high = len(nums) - <span class="number">1</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high:</div><div class="line">            mid = (low + high) / <span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &lt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &gt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid - <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] == target:</div><div class="line">                 <span class="comment"># In this case, target is found.</span></div><div class="line">                <span class="keyword">return</span> mid</div><div class="line">        <span class="comment"># We don't know if there's really a target in nuns, so check it.</span></div><div class="line">        <span class="keyword">return</span> low <span class="keyword">if</span> nums[low] == target <span class="keyword">else</span> <span class="number">-1</span></div></pre></td></tr></table></figure>
<h2 id="Leetcode-162"><a href="#Leetcode-162" class="headerlink" title="Leetcode-162"></a>Leetcode-162</h2><p><a href="https://leetcode.com/problems/find-peak-element/#/description" target="_blank" rel="external">https://leetcode.com/problems/find-peak-element/#/description</a></p>
<div class="note warning"><p>A peak element is an element that is greater than its neighbors.<br>Given an input array where <code>num[i] ≠ num[i+1]</code>, find a peak element and return its index.<br>The array may contain multiple peaks, in that case return the index to any one of the peaks is fine.<br>You may imagine that <code>num[-1] = num[n] = -∞</code>.<br>For example, in array <code>[1, 2, 3, 1]</code>, 3 is a peak element and your function should return the index number 2.  </p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 1</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findPeakElement</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        low  = <span class="number">0</span></div><div class="line">        high = len(nums)<span class="number">-1</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt;= high:</div><div class="line">            mid = (low + high) / <span class="number">2</span></div><div class="line"></div><div class="line">            leftVal = self.getVal(nums, mid<span class="number">-1</span>)</div><div class="line">            rightVal = self.getVal(nums, mid+<span class="number">1</span>)</div><div class="line"></div><div class="line">            <span class="keyword">if</span> leftVal &lt; nums[mid] <span class="keyword">and</span> nums[mid] &gt; rightVal:</div><div class="line">                <span class="comment"># In this case, [mid] is a peak element, so return mid.</span></div><div class="line">                <span class="keyword">return</span> mid</div><div class="line">            <span class="keyword">if</span> leftVal &gt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid<span class="number">-1</span></div><div class="line">            <span class="keyword">elif</span> rightVal &gt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid+<span class="number">1</span></div><div class="line">        <span class="keyword">return</span> low</div><div class="line"></div><div class="line">    <span class="comment"># Here we need a getVal function to determine if [mid] is a peak element,</span></div><div class="line">    <span class="comment"># because we don't know if mid-1 and mid+1 are in the range of [low, high]</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getVal</span><span class="params">(self, nums, index)</span>:</span></div><div class="line">        <span class="keyword">if</span> index == <span class="number">-1</span> <span class="keyword">or</span> index == len(nums):</div><div class="line">            <span class="keyword">return</span> -float(<span class="string">'inf'</span>)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> nums[index]</div></pre></td></tr></table></figure>
<h1 id="Set-2"><a href="#Set-2" class="headerlink" title="Set 2"></a>Set 2</h1><h2 id="Leetcode-153"><a href="#Leetcode-153" class="headerlink" title="Leetcode-153"></a>Leetcode-153</h2><p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank" rel="external">https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/</a></p>
<div class="note danger"><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.<br>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).<br>Find the minimum element.  </p>
<p>You may assume no duplicate exists in the array.</p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 2</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMin</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        low = <span class="number">0</span></div><div class="line">        high = len(nums) - <span class="number">1</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high <span class="keyword">and</span> nums[low] &gt; nums[high]:</div><div class="line">            mid = (low + high)/<span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[low] &gt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can escape if high=mid-1 </span></div><div class="line">                high = mid</div><div class="line">            <span class="keyword">if</span> nums[low] &lt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] == nums[low]:</div><div class="line">                <span class="comment"># In this case, low=mid=high-1</span></div><div class="line">                <span class="keyword">break</span></div><div class="line">        <span class="comment"># Target_idx didn't escape [low-high], but there's a change low = high-1 (due to the last case).</span></div><div class="line">        <span class="comment"># So check for smaller one.</span></div><div class="line">        <span class="keyword">return</span> min(nums[low],nums[high])</div></pre></td></tr></table></figure>
<h2 id="Leetcode-154"><a href="#Leetcode-154" class="headerlink" title="Leetcode-154"></a>Leetcode-154</h2><div class="note default"><p>Follow up for “Find Minimum in Rotated Sorted Array”:<br>What if duplicates are allowed?<br>Would this affect the run-time complexity? How and why?<br>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.<br>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).<br>Find the minimum element.  </p>
<p>The array may contain duplicates.</p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 2</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMin</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        <span class="comment"># Return for trivial cases, so that there will be no maximum recursive depth error.</span></div><div class="line">        <span class="keyword">if</span> len(nums) == <span class="number">0</span>: <span class="keyword">return</span> float(<span class="string">'inf'</span>)</div><div class="line">        <span class="keyword">if</span> len(nums) &lt;= <span class="number">2</span>: <span class="keyword">return</span> min(nums)</div><div class="line">        low = <span class="number">0</span></div><div class="line">        high = len(nums) - <span class="number">1</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high <span class="keyword">and</span> nums[low] &gt;= nums[high]:</div><div class="line">            mid = (low + high)/<span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[low] &gt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can escape if high=mid+1 </span></div><div class="line">                high = mid</div><div class="line">            <span class="keyword">if</span> nums[low] &lt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid-1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] == nums[low]:</div><div class="line">                <span class="comment"># In this case, you don't know the target </span></div><div class="line">                <span class="keyword">return</span> min(self.findMin(nums[low:mid]), self.findMin(nums[mid:high+<span class="number">1</span>]))</div><div class="line">        <span class="comment"># This case, you don't have to return min(nums[low], nums[high]), because of the last case.</span></div><div class="line">        <span class="keyword">return</span> nums[low]</div></pre></td></tr></table></figure>
<h2 id="Leetcode-278"><a href="#Leetcode-278" class="headerlink" title="Leetcode-278"></a>Leetcode-278</h2><p><a href="https://leetcode.com/problems/first-bad-version/" target="_blank" rel="external">https://leetcode.com/problems/first-bad-version/</a></p>
<div class="note primary"><p>You are a product manager and currently leading a team to develop a new product. Unfortunately, the latest version of your product fails the quality check. Since each version is developed based on the previous version, all the versions after a bad version are also bad.</p>
<p>Suppose you have <code>n</code> versions <code>[1, 2, ..., n]</code> and you want to find out the first bad one, which causes all the following ones to be bad.</p>
<p>You are given an API <code>bool isBadVersion(version)</code> which will return whether <code>version</code> is bad. Implement a function to find the first bad version. You should minimize the number of calls to the API.</p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># The isBadVersion API is already defined for you.</span></div><div class="line"><span class="comment"># @param version, an integer</span></div><div class="line"><span class="comment"># @return a bool</span></div><div class="line"><span class="comment"># def isBadVersion(version):</span></div><div class="line"></div><div class="line"><span class="comment"># Set 2</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">firstBadVersion</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        low = <span class="number">1</span></div><div class="line">        high = n</div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high:</div><div class="line">            mid = (low + high) / <span class="number">2</span></div><div class="line">            <span class="keyword">if</span> isBadVersion(mid):</div><div class="line">                <span class="comment"># In this case, target idx can escape if high=mid+1 </span></div><div class="line">                high = mid</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid-1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> low</div></pre></td></tr></table></figure>
<h2 id="Leetcode-35"><a href="#Leetcode-35" class="headerlink" title="Leetcode-35"></a>Leetcode-35</h2><p><a href="https://leetcode.com/problems/search-insert-position/" target="_blank" rel="external">https://leetcode.com/problems/search-insert-position/</a></p>
<div class="note success"><p>Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order.<br>You may assume no duplicates in the array.<br>Here are few examples.<br><code>[1,3,5,6]</code>, 5 → 2<br><code>[1,3,5,6]</code>, 2 → 1<br><code>[1,3,5,6]</code>, 7 → 4<br><code>[1,3,5,6]</code>, 0 → 0</p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 2 </span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchInsert</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        high = len(nums) - <span class="number">1</span></div><div class="line">        low = <span class="number">0</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high:</div><div class="line">            mid = (low + high) / <span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &lt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid-1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> target &lt; nums[mid]:</div><div class="line">                <span class="comment"># In this case, target idx can escape if high=mid+1 </span></div><div class="line">                high = mid </div><div class="line">            <span class="keyword">if</span> target == nums[mid]:</div><div class="line">                <span class="keyword">return</span> mid</div><div class="line">        <span class="comment"># There's achange that target idx never get into [low-high],</span></div><div class="line">        <span class="comment"># so you should check for that situation.</span></div><div class="line">        <span class="keyword">return</span> low <span class="keyword">if</span> target &lt;= nums[low] <span class="keyword">else</span> low +<span class="number">1</span></div></pre></td></tr></table></figure>
<h1 id="Set-3"><a href="#Set-3" class="headerlink" title="Set 3"></a>Set 3</h1><h2 id="Leetcode-34"><a href="#Leetcode-34" class="headerlink" title="Leetcode-34"></a>Leetcode-34</h2><p><a href="https://leetcode.com/problems/search-for-a-range/" target="_blank" rel="external">https://leetcode.com/problems/search-for-a-range/</a></p>
<div class="note default"><p>Given an array of integers sorted in ascending order, find the starting and ending position of a given target value.<br>Your algorithm’s runtime complexity must be in the order of O(log n).<br>If the target is not found in the array, return <code>[-1, -1]</code>.</p>
<p>For example,<br>Given <code>[5, 7, 7, 8, 8, 10]</code> and target value 8,<br>return <code>[3, 4]</code>.</p>
</div>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Set 2 and 3</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchRange</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: List[int]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(nums) == <span class="number">0</span>: <span class="keyword">return</span> [<span class="number">-1</span>,<span class="number">-1</span>]</div><div class="line">        <span class="keyword">return</span> [self.lowBound(nums,target), self.highBound(nums,target)]</div><div class="line"></div><div class="line">    <span class="comment"># Set 2</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowBound</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        high = len(nums)<span class="number">-1</span></div><div class="line">        low  = <span class="number">0</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low &lt; high:</div><div class="line">            mid = (low + high)/<span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &lt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &gt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid - <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] == target:</div><div class="line">                <span class="comment"># In this case, target idx can escape if high=mid-1, so we use high = mid</span></div><div class="line">                high = mid</div><div class="line">        <span class="comment"># When the loop is over, low=high. But we also have to check if there's a target in nums.</span></div><div class="line">        <span class="keyword">return</span> low <span class="keyword">if</span> nums[low] == target <span class="keyword">else</span> <span class="number">-1</span></div><div class="line"></div><div class="line">    <span class="comment"># Set 3</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">highBound</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        high = len(nums)<span class="number">-1</span></div><div class="line">        low = <span class="number">0</span></div><div class="line">        <span class="comment"># Once the target_idx got into the loop, don't let it out of [low-high].</span></div><div class="line">        <span class="keyword">while</span> low+<span class="number">1</span> &lt; high:</div><div class="line">            mid = (low + high)/<span class="number">2</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &lt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if low=mid+1</span></div><div class="line">                low = mid + <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] &gt; target:</div><div class="line">                <span class="comment"># In this case, target idx can not escape if high=mid-1</span></div><div class="line">                high = mid - <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> nums[mid] == target:</div><div class="line">                <span class="comment"># In this case, target idx can escape if low=mid+1, so we use low = mid</span></div><div class="line">                low = mid</div><div class="line">        <span class="comment"># When the loop is over, low=high or low+1=high, </span></div><div class="line">        <span class="comment"># so if [high]==target, return high; </span></div><div class="line">        <span class="comment"># elif [low]==target, return low (low could be lower than high).</span></div><div class="line">        <span class="comment"># else, there's no target in nums.</span></div><div class="line">        <span class="keyword">if</span> nums[high] == target:</div><div class="line">            <span class="keyword">return</span> high</div><div class="line">        <span class="keyword">elif</span> nums[low] == target:</div><div class="line">            <span class="keyword">return</span> low</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span></div></pre></td></tr></table></figure>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=26237342&auto=1&height=66"></iframe>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/leetcode-bsearch/" rel="tag"># leetcode, bsearch</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/18/tree/" rel="next" title="Tree Summary">
                <i class="fa fa-chevron-left"></i> Tree Summary
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/07/equations/" rel="prev" title="A fast way to implement equations">
                A fast way to implement equations <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Xiaoda" />
          <p class="site-author-name" itemprop="name">Xiaoda</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Summary"><span class="nav-number">1.</span> <span class="nav-text">Summary</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Set-1"><span class="nav-number">2.</span> <span class="nav-text">Set 1</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#leetcode-374"><span class="nav-number">2.1.</span> <span class="nav-text">leetcode-374</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-367"><span class="nav-number">2.2.</span> <span class="nav-text">Leetcode-367</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-167"><span class="nav-number">2.3.</span> <span class="nav-text">Leetcode-167</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-162"><span class="nav-number">2.4.</span> <span class="nav-text">Leetcode-162</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Set-2"><span class="nav-number">3.</span> <span class="nav-text">Set 2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-153"><span class="nav-number">3.1.</span> <span class="nav-text">Leetcode-153</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-154"><span class="nav-number">3.2.</span> <span class="nav-text">Leetcode-154</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-278"><span class="nav-number">3.3.</span> <span class="nav-text">Leetcode-278</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-35"><span class="nav-number">3.4.</span> <span class="nav-text">Leetcode-35</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Set-3"><span class="nav-number">4.</span> <span class="nav-text">Set 3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Leetcode-34"><span class="nav-number">4.1.</span> <span class="nav-text">Leetcode-34</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaoda</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://moonlightshadow123.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://moonlightshadow123.github.io/2017/09/18/bsearch/';
          this.page.identifier = '2017/09/18/bsearch/';
          this.page.title = 'B-search Summary';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://moonlightshadow123.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("XY6vdtoqDFVM67G1RoBikwMO-gzGzoHsz", "7CParPLMe084qw0noRhpWBOF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  


<!--added-->


</body>
</html>
